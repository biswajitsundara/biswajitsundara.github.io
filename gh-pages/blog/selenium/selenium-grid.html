
<!DOCTYPE html>
<html lang="en">

<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="">
  <meta name="author" content="">

  <title>Biswajit Sundara Blog | Selenium Grid</title>

 <script src="js/jquery.min.js"></script>
  <script src="js/bootstrap.min.js"></script>

  <!-- Bootstrap core CSS -->
  <link href="css/bootstrap.min.css" rel="stylesheet">

  <!-- Custom styles for this template -->
  <link href="css/blog-post.css" rel="stylesheet">

  <link href="../css/blogpage.css" rel="stylesheet">

<style>
table, td, th {  
  border: 1px solid #ddd;
  text-align: left;
}

table {
  border-collapse: collapse;
  width: 100%;
}

th, td {
  padding: 15px;
}
</style>

</head>

<body onload="LoadFunc()">

  <!-- Navigation -->
  <nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top">
    <div class="container">
      <a class="navbar-brand" href="#">Biswajit Sundara Blog</a>
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarResponsive">
        <ul class="navbar-nav ml-auto">
          <li class="nav-item active">
            <a class="nav-link" href="#">Home
              <span class="sr-only">(current)</span>
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#">About</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#">Services</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#">Contact</a>
          </li>
        </ul>
      </div>
    </div>
  </nav>

  <!-- Page Content -->
  <div class="container">

    <div class="row">


   <!-- Sidebar Widgets Column -->
      <div class="col-md-4">

      <div class="card my-4">
                 <h5 class="card-header">Author Profile</h5>
              <div class="card-body">
                  <center><img class="d-flex mr-3 rounded-circle" src="../img/brand/me.png" alt="" style="width:40%"></center>
                  This book is written by Biswajit Sundara. Biswajit is a software professional with 10+ years of experience. He has worked on various technologies and also an avid blogger on technology.
             </div>
         </div><!-- End of Author Profile -->


        <!-- Table of contents -->
      <div class="card my-4">
          <h5 class="card-header">Topics</h5>
         <div class="card-body">
           	<ul class="list-group list-group-flush">
    	  	<li class="list-group-item"><a href="#" onclick="openTopic(event, 'basics')">Selenium Grid Basics</a></li>
    	  	<li class="list-group-item"><a href="#" onclick="openTopic(event, 'remoteWD')">Remote WebDriver</a></li>
                <li class="list-group-item"><a href="#" onclick="openTopic(event, 'testcases')">Designing Test Script</a></li>
    	  	<li class="list-group-item"><a href="#" onclick="openTopic(event, 'config')">Configuring Selenium Grid</a></li>
    	 	<li class="list-group-item"><a href="#" onclick="openTopic(event, 'execution')">Execution Using Selenium Grid</a></li>
                <li class="list-group-item"><a href="#" onclick="openTopic(event, 'summary')">Summary</a></li>
         	</ul>
        </div>
     </div><!-- End of Table of contents -->
              
         

   
  </div><!-- End of Sidebar Widgets Column -->



      <!-- Post Content Column -->
      <div class="col-lg-8">

        <!-- Title -->
        <h1 class="mt-4">Selenium Grid</h1>

        <!-- Author -->
        <p class="lead">
          by
          <a href="#">Biswajit Sundara</a>
        </p>

        <hr>

        <!-- Date/Time -->
        <p>Posted on May 1, 2020 at 12:00 PM</p>

        <hr>

       
        						<!-- Post Content -->

<!-------------------------------------------------------- Start of basics --------------------------------------------->
        
<div id="basics" class="topics" style="line-height: 180%;">
       <h4>What is Selenium Grid?</h4>
        Selenium Grid is a distributed system which allows us to run the testcases in parallel. I have used the keyword 'distributed' means the server distributes the load among nodes and the nodes 
        execute testcases parallely which saves the execution time significantly.
        <center><img src="img/grid/grid.png"></center>
        <br><br>Grid helps in below things
        <ul><li>Distributes tests to several machines (parallel execution)
        </li><li>Provides multiple test environments like different combinations of OS, Browser, Browser versions etc (cross platform testing)
        </li></ul>

       Selenium Grid uses a hub-node concept where you only run the test on a single machine called a hub, but the execution will be done by different machines called nodes.
       

       <br><br><h4>When to use Selenium Grid</h4>  
       <br><b>Execution Time Reduction</b> : Let's say we have 1000 testcases to execute in one day. If we go for sequential execution then you can imagine how much time it's going to take. Even if we run them parallel in one system we can't 
       run too many browser instances. This problem can be solved through Selenium Grid. If we configure 10 nodes then the execution can be done 10x faster by executing testcases parallely.

       <br><br><b>Cross Platform Testing</b> :If we have to test our testcase in Windows, Mac & Chrome Browser version 71, 72 etc. Now let's think, can we have two platforms in a single system? can we have two browser versions in one system? the answer is no.
       We can solve this problem using Grid. In the Grid system, the nodes can have multiple platforms, different browser versions.
        
	<br><br><h4>Selenium Grid Architecture</h4> 
        Selenium Grid has a Hub and Node Architecture. 
        <br><br><b>The Hub</b>
        <ul><li>The hub is the central point that receives request to run tests.
        </li><li>There should be one hub in grid architecture.
        </li><li>The hub can be physical (desktop/laptop machine) or virtual (VMware machine) anything that has operating system, browsers, ip address.
	</li><li>Hub takes instructions from client and executes them remotely on the nodes.
        </li><li>Hub receives the requests then it distributes the requests among nodes, the test execution happens in nodes. 
        </li></ul>

	<br><b>The Node</b>
	<ul><li>Node is where the test case gets executed.
        </li><li>Node has the platform, the browser you are requesting through the test case.
        </li><li>There can be one or more nodes in selenium grid.
 	</li><li>The node can be physical (desktop/laptop machine) or virtual (VMware machine) anything that has operating system, browsers, ip address.
	</li><li>Machines running as nodes need not to be on the same platform as hub. 
	</li><li>Node machine registers to Hub and then receives request from the hub to execute test.
        </li></ul>

       <br><br>
       <button  class="btn btn-primary" onclick="openTopic(event, 'basicoperation')"><- Prev</button>  
       <button  class="btn btn-success" onclick="openTopic(event, 'branching')">Next -></button>  
       <br><br>    

</div>
<!-------------------------------------------------------- End of basics --------------------------------------------->
        
<!-------------------------------------------------------- Start of remote webdriver --------------------------------------------->

<div id="remoteWD" class="topics" style="line-height: 180%;">
       
     <h4>Remote WebDriver</h4>
     We know that to instantiate a browser, we need to work with selenium WebDriver however when it comes to execution through Selenium Grid, we need to use RemoteWebDriver.
     A quick question here, why do we need Remote WebDriver, why can't we use the selenium WebDriver. If we use web driver then selenium will communicate to the browser that is local.

     <br><br><pre class="codeblock1">WebDriver driver = <span style='font-weight:bold;color:#7B0052;'>new</span> ChromeDriver();</pre>

     Now if we use RemoteWebDriver, it asks us to specify where the Selenium Server is located and on which web browser we want to execute our tests.
     
     <br><br><pre class="codeblock1">driver = <span style='font-weight:bold;color:#7B0052;'>new</span> RemoteWebDriver(<span style='font-weight:bold;color:#7B0052;'>new</span> URL(<span style='color:#2A00FF'>"http://localhost:4444/wd/hub"</span>)
                                , DesiredCapabilities.chrome());</pre>

    Here we have specified that selenium server is running on localhost with the default port 4444 and execute on chrome browser. In real time the hub url can have the ip address of the hub machine so when we will run the script, it will connect to the hub.

   
     <br><br><h4>Desired Capabilities</h4>
     Capabilities is the core part of the selenium grid architecture.    
     <ul><li>When a node registers at the hub, it registers all it's capabilities like the OS, browser names, browser versions etc. This is called actual capabilities.
     </li><li>Then when we create the remote web driver object in the selenium script, we pass the capabilities that the script is looking for. This is called Desired Capability.
     </li><li>The Hub tries to map the desired capability with actual capability. If there's a match then it routes the test to that node machine.        
     </li></ul>
      <pre>DesiredCapabilities dc = new DesiredCapabilities();
dc.setBrowserName("chrome");
dc.setPlatform(Platform.WINDOWS);</pre>


<br><h4>Capability Parameters</h4>
Selenium supports 3 capability parameters

<table>
  <tr>
    <th>Key</th>
    <th>Type</th>
    <th>Description</th>
  </tr>
  <tr>
    <td>browserName</td>
    <td>string</td>
    <td>The name of the browser being used; should be one of {android, chrome, firefox, htmlunit, internet explorer, iPhone, iPad, opera, safari}.</td>
  </tr>
  <tr>
    <td>version</td>
    <td>string</td>
    <td>The browser version, or the empty string if unknown.</td>
  </tr>
  <tr>
    <td>platform</td>
    <td>string</td>
    <td>A key specifying which platform the browser should be running on. This value should be one of {WINDOWS, XP, VISTA, MAC, LINUX, UNIX, ANDROID}. When requesting a new session, the client may specify ANY to indicate any available platform may be used.</td>
  </tr>
</table>





      <br><h4>Demo Script</h4>
      We can simply run the below script to check the grid is working or not. Here I have used the Grid URL as "http://localhost:4444/wd/hub" and in real time instead of localhost, we need to specify the actual ip addrees of the hub machine.
      <pre class="codeblock1"><span style='font-weight:bold;color:#7B0052;'>public</span> <span style='font-weight:bold;color:#7B0052;'>class</span> FirstTestCase <span style='font-weight:bold;color:#D3171B'>{</span>

	<span style='font-weight:bold;color:#7B0052;'>private</span> <span style='font-weight:bold;color:#7B0052;'>static</span> WebDriver driver;
	
	@BeforeClass
	<span style='font-weight:bold;color:#7B0052;'>public</span> <span style='font-weight:bold;color:#7B0052;'>void</span> setup() <span style='font-weight:bold;color:#7B0052;'>throws</span> MalformedURLException
	<span style='font-weight:bold;color:#D3171B'>{</span>
		driver = <span style='font-weight:bold;color:#7B0052;'>new</span> RemoteWebDriver(<span style='font-weight:bold;color:#7B0052;'>new</span> URL(<span style='color:#2A00FF'>"http://localhost:4444/wd/hub"</span>)
		                               , DesiredCapabilities.chrome());
		driver.manage().window().maximize();
	<span style='font-weight:bold;color:#D3171B'>}</span>
	
	@Test
	<span style='font-weight:bold;color:#7B0052;'>public</span> <span style='font-weight:bold;color:#7B0052;'>void</span> TC001_automationscript()
	<span style='font-weight:bold;color:#D3171B'>{</span>
		driver.get(<span style='color:#2A00FF'>"http://automationpractice.com"</span>);
		driver.findElement(By.name(<span style='color:#2A00FF'>"email"</span>)).sendKeys(<span style='color:#2A00FF'>"abcd@gmail.com"</span>);
		driver.findElement(By.name(<span style='color:#2A00FF'>"passwd"</span>)).sendKeys(<span style='color:#2A00FF'>"automation"</span>);
		driver.findElement(By.name(<span style='color:#2A00FF'>"SubmitLogin"</span>)).click();
	<span style='font-weight:bold;color:#D3171B'>}</span>
	
	@AfterClass
	<span style='font-weight:bold;color:#7B0052;'>public</span> <span style='font-weight:bold;color:#7B0052;'>void</span> tearDown()
	<span style='font-weight:bold;color:#D3171B'>{</span>
		driver.quit();
	<span style='font-weight:bold;color:#D3171B'>}</span>
<span style='font-weight:bold;color:#D3171B'>}</span></pre>


<br><h4>Browser Options</h4>   
Desired capability feature is old. Browser option is the new way of setting the desired capabilities. 
<ul><li>So first we need to create the Desired Capabilities object, set the basic capabilties. 
</li><li>Then create the browser option object, set the browser options
</li><li>Then merge the browser option object with the desired capability object.
</li><li>In Remote WebDriver pass on the desired capability object. 
</li><li>Desired capability is like &lt;key&gt; &lt;value&gt; pair. 
</li></ul>

<pre class="codeblock1">@BeforeClass
<span style='font-weight:bold;color:#7B0052;'>public</span> <span style='font-weight:bold;color:#7B0052;'>void</span> setup() <span style='font-weight:bold;color:#7B0052;'>throws</span> MalformedURLException
<span style='font-weight:bold;color:#D3171B'>{</span>
   DesiredCapabilities caps = <span style='font-weight:bold;color:#7B0052;'>new</span> DesiredCapabilities();
		 
   caps.setCapability(CapabilityType.ACCEPT_SSL_CERTS, <span style='font-weight:bold;color:#7B0052;'>true</span>);
   ChromeOptions op = <span style='font-weight:bold;color:#7B0052;'>new</span> ChromeOptions();
   op.addArguments(<span style='color:#2A00FF'>"--incognito"</span>);
   caps.merge(op);
		
   caps.setPlatform(Platform.WINDOWS);
   driver = <span style='font-weight:bold;color:#7B0052;'>new</span> RemoteWebDriver(<span style='font-weight:bold;color:#7B0052;'>new</span> URL(<span style='color:#2A00FF'>"http://localhost:4444/wd/hub"</span>), caps);
   driver.manage().window().maximize();
<span style='font-weight:bold;color:#D3171B'>}</span></pre>


       <br><br>
       <button  class="btn btn-primary" onclick="openTopic(event, 'basicoperation')"><- Prev</button>  
       <button  class="btn btn-success" onclick="openTopic(event, 'branching')">Next -></button>  
       <br><br>    

</div>

<!-------------------------------------------------------- End of Remote WebDriver --------------------------------------------->
        
<!-------------------------------------------------------- Start of test cases--------------------------------------------->
<div id="testcases" class="topics" style="line-height: 180%;">
       

For the grid execution, we need to design testcases also. For demo purpose we are going to have 3 scripts to run on different browsers.
like chrome, firefox, internet explorer respectively. 

     <br><br><h4>Test Script1</h4>
      Let's build a script to run on chrome browser.
      
     <pre class="codeblock1">public</span> <span style='font-weight:bold;color:#7B0052;'>class</span> FirstTestCase 
<span style='font-weight:bold;color:#D3171B'>{</span>
   <span style='font-weight:bold;color:#7B0052;'>private</span> <span style='font-weight:bold;color:#7B0052;'>static</span> WebDriver driver;

   @BeforeClass
   <span style='font-weight:bold;color:#7B0052;'>public</span> <span style='font-weight:bold;color:#7B0052;'>void</span> setup() <span style='font-weight:bold;color:#7B0052;'>throws</span> MalformedURLException
   <span style='font-weight:bold;color:#D3171B'>{</span>
      DesiredCapabilities caps = <span style='font-weight:bold;color:#7B0052;'>new</span> DesiredCapabilities();
      caps.setCapability(CapabilityType.ACCEPT_SSL_CERTS, <span style='font-weight:bold;color:#7B0052;'>true</span>);
      ChromeOptions op = <span style='font-weight:bold;color:#7B0052;'>new</span> ChromeOptions();
      op.addArguments(<span style='color:#2A00FF'>"--incognito"</span>);
      caps.merge(op);

      caps.setPlatform(Platform.WINDOWS);
      driver = <span style='font-weight:bold;color:#7B0052;'>new</span> RemoteWebDriver(<span style='font-weight:bold;color:#7B0052;'>new</span> URL(<span style='color:#2A00FF'>"http://localhost:4444/wd/hub"</span>), caps);
      driver.manage().window().maximize();
  <span style='font-weight:bold;color:#D3171B'>}</span>

   @Test
   <span style='font-weight:bold;color:#7B0052;'>public</span> <span style='font-weight:bold;color:#7B0052;'>void</span> TC001_automationscript()
   <span style='font-weight:bold;color:#D3171B'>{</span>	 
     driver.get(<span style='color:#2A00FF'>"http://automationpractice.com/index.php?"</span>);
     driver.findElement(By.name(<span style='color:#2A00FF'>"email"</span>)).sendKeys(<span style='color:#2A00FF'>"abc@gmail.com"</span>);
     driver.findElement(By.name(<span style='color:#2A00FF'>"passwd"</span>)).sendKeys(<span style='color:#2A00FF'>"automation"</span>);
     driver.findElement(By.name(<span style='color:#2A00FF'>"SubmitLogin"</span>)).click();
  <span style='font-weight:bold;color:#D3171B'>}</span>

   @AfterClass
   <span style='font-weight:bold;color:#7B0052;'>public</span> <span style='font-weight:bold;color:#7B0052;'>void</span> tearDown()
   <span style='font-weight:bold;color:#D3171B'>{</span>
      driver.quit();
   <span style='font-weight:bold;color:#D3171B'>}</span>
<span style='font-weight:bold;color:#D3171B'>}</span></pre> 




<br><br><h4>Test Script2</h4>
The below script to run on firefox browser.

<pre class="codeblock1"><span style='font-weight:bold;color:#7B0052;'>public</span> <span style='font-weight:bold;color:#7B0052;'>class</span> SecondTestCase 
<span style='font-weight:bold;color:#D3171B'>{</span>
    <span style='font-weight:bold;color:#7B0052;'>private</span> <span style='font-weight:bold;color:#7B0052;'>static</span> WebDriver driver;
	
    @BeforeClass
    <span style='font-weight:bold;color:#7B0052;'>public</span> <span style='font-weight:bold;color:#7B0052;'>void</span> setup() <span style='font-weight:bold;color:#7B0052;'>throws</span> MalformedURLException
     <span style='font-weight:bold;color:#D3171B'>{</span>
       DesiredCapabilities caps = <span style='font-weight:bold;color:#7B0052;'>new</span> DesiredCapabilities();
       caps.setPlatform(Platform.WINDOWS);
       driver = <span style='font-weight:bold;color:#7B0052;'>new</span> RemoteWebDriver(<span style='font-weight:bold;color:#7B0052;'>new</span> 
       URL(<span style='color:#2A00FF'>"http://localhost:4444/wd/hub"</span>), caps.firefox());
       driver.manage().window().maximize();
     <span style='font-weight:bold;color:#D3171B'>}</span>
	
     @Test
     <span style='font-weight:bold;color:#7B0052;'>public</span> <span style='font-weight:bold;color:#7B0052;'>void</span> TC002_automationscript()
     <span style='font-weight:bold;color:#D3171B'>{</span>
	driver.get(<span style='color:#2A00FF'>"http://automationpractice.com/index.php?"</span>);
	driver.findElement(By.name(<span style='color:#2A00FF'>"email"</span>)).sendKeys(<span style='color:#2A00FF'>"abc@gmail.com"</span>);
	driver.findElement(By.name(<span style='color:#2A00FF'>"passwd"</span>)).sendKeys(<span style='color:#2A00FF'>"automation"</span>);
	driver.findElement(By.name(<span style='color:#2A00FF'>"SubmitLogin"</span>)).click();
     <span style='font-weight:bold;color:#D3171B'>}</span>
	
   @AfterClass
   <span style='font-weight:bold;color:#7B0052;'>public</span> <span style='font-weight:bold;color:#7B0052;'>void</span> tearDown()
   <span style='font-weight:bold;color:#D3171B'>{</span>
      driver.quit();
   <span style='font-weight:bold;color:#D3171B'>}</span>
<span style='font-weight:bold;color:#D3171B'>}</span></pre>


<br><br><h4>Test Script3</h4>
The below script to run on internet explorer browser.

<pre class="codeblock1"><span style='font-weight:bold;color:#7B0052;'>public</span> <span style='font-weight:bold;color:#7B0052;'>class</span> ThirdTestCase 
<span style='font-weight:bold;color:#D3171B'>{</span>
    <span style='font-weight:bold;color:#7B0052;'>private</span> <span style='font-weight:bold;color:#7B0052;'>static</span> WebDriver driver;

    @BeforeClass
    <span style='font-weight:bold;color:#7B0052;'>public</span> <span style='font-weight:bold;color:#7B0052;'>void</span> setup() <span style='font-weight:bold;color:#7B0052;'>throws</span> MalformedURLException
    <span style='font-weight:bold;color:#D3171B'>{</span>
	DesiredCapabilities caps = <span style='font-weight:bold;color:#7B0052;'>new</span> DesiredCapabilities();
	caps.setCapability(CapabilityType.ACCEPT_SSL_CERTS, <span style='font-weight:bold;color:#7B0052;'>true</span>);
	InternetExplorerOptions op = <span style='font-weight:bold;color:#7B0052;'>new</span> InternetExplorerOptions();
	op.ignoreZoomSettings();
	caps.merge(op);

	caps.setPlatform(Platform.WINDOWS);
	driver = <span style='font-weight:bold;color:#7B0052;'>new</span> RemoteWebDriver(<span style='font-weight:bold;color:#7B0052;'>new</span> URL(<span style='color:#2A00FF'>"http://localhost:4444/wd/hub"</span>), caps);
	driver.manage().window().maximize();
     <span style='font-weight:bold;color:#D3171B'>}</span>

     @Test
     <span style='font-weight:bold;color:#7B0052;'>public</span> <span style='font-weight:bold;color:#7B0052;'>void</span> TC003_automationscript()
     <span style='font-weight:bold;color:#D3171B'>{</span>
	driver.get(<span style='color:#2A00FF'>"http://automationpractice.com/index.php?"</span>);
	driver.findElement(By.name(<span style='color:#2A00FF'>"email"</span>)).sendKeys(<span style='color:#2A00FF'>"abc@gmail.com"</span>);
	driver.findElement(By.name(<span style='color:#2A00FF'>"passwd"</span>)).sendKeys(<span style='color:#2A00FF'>"automation"</span>);
	driver.findElement(By.name(<span style='color:#2A00FF'>"SubmitLogin"</span>)).click();
     <span style='font-weight:bold;color:#D3171B'>}</span>

    @AfterClass
    <span style='font-weight:bold;color:#7B0052;'>public</span> <span style='font-weight:bold;color:#7B0052;'>void</span> tearDown()
    <span style='font-weight:bold;color:#D3171B'>{</span>
	driver.quit();
    <span style='font-weight:bold;color:#D3171B'>}</span>
<span style='font-weight:bold;color:#D3171B'>}</span></pre>

<br><h4>testng.xml</h4>

<pre class="codeblock1">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;!DOCTYPE suite SYSTEM "https://testng.org/testng-1.0.dtd"&gt;
&lt;suite name="Suite" parallel="methods"&gt;
  &lt;test thread-count="5" name="Test"&gt;
    &lt;classes&gt;
      &lt;class name="testscripts.FirstTestCase"/&gt;
      &lt;class name="testscripts.ThirdTestCase"/&gt;
      &lt;class name="testscripts.SecondTestCase"/&gt;
    &lt;/classes&gt;
  &lt;/test&gt; &lt;!-- Test --&gt;
&lt;/suite&gt; &lt;!-- Suite --&gt;
</pre>

       <br><br>
       <button  class="btn btn-primary" onclick="openTopic(event, 'basicoperation')"><- Prev</button>  
       <button  class="btn btn-success" onclick="openTopic(event, 'branching')">Next -></button>  
       <br><br>    



</div>


<!-------------------------------------------------------- End of test cases--------------------------------------------->

<!-------------------------------------------------------- Start of  configuration --------------------------------------------->

<div id="config" class="topics" style="line-height: 180%;">
       
     <h4>Hub Configuration</h4>
     <ul><li>Identify any physical/virtual machine to configure as hub.
     </li><li>Download the selenium server jar file from - <a href="https://www.selenium.dev/downloads/" target="_blank">https://www.selenium.dev/downloads/</a>
     </li><li>Create a batch file and give the name as HUB.bat (type the command in note pad and save with .bat extension)
     </li><li>In the HUB.bat file put the below code
      <pre class="codeblock2">java -jar selenium-server-standalone-3.12.0.jar -port 4444 -role hub</pre>
     </li><li>The selenium server jar file name may change based on which version you download.
     </li><li>Keep both the jar file & the bat file in the same folder.
     </li><li>Double click on the HUB.bat file.
     </li></ul>
     <img src="img/grid/hub.png">
     <br>Indicates the HUB is now started.
     <pre class="codeblock2">INFO [Hub.start] - Selenium Grid hub is up and running</pre>
     
      Indicates that now nodes can register to the HUB using the mentioned IP address/HUB url   
     <pre class="codeblock2">INFO [Hub.start] - Nodes should register to http://1xx.1xx.1.xx:4444/grid/register/</pre>
     
     Indicates that the clients, means the automation script can send request to the HUB using the mentioned IP address/HUB url
     <pre class="codeblock2">INFO [Hub.start] - Clients should connect to http://1xx.1xx.1.xx:4444/wd/hub</pre>
     
 
     <br><h4>Node 1 Configuration</h4>
     <ul><li>Identify any physical/virtual machine to configure as Node.
     </li><li>Download the selenium server jar file from - <a href="https://www.selenium.dev/downloads/" target="_blank">https://www.selenium.dev/downloads/</a>
     </li><li>Create a batch file and give the name as node1.bat (type the command in note pad and save with .bat extension)
     </li><li>In the Node1.bat file put the below code
     </li><pre class="codeblock2">java -Dwebdriver.chrome.driver="chromedriver.exe" 
      -jar selenium-server-standalone-3.141.59.jar -role node 
      -hub http://10.0.0.0:4444/grid/register -port 5555 
      -browser browserName=chrome,maxInstances=5,platform=WINDOWS -maxSession 5</pre>
     <li>The selenium server jar file name may change based on which version you download.
     </li><li>The hub url http://10.0.0.0:4444/grid/register/ needs to be changed also. We need to use the url from the hub console.
     </li><li>We can register a node with multiple browsers (like chrome, firefox etc) however for demo purpose, I have created only for chrome browser.
     </li><li>Download the chrome driver (other browser drivers if used in the command)
     </li><li>Keep everything in the same folder - node1.bat, the selenium-server jar file, browser drivers
     </li><li>double click on the Node1.bat file.
     </li></ul>
     <img src="img/grid/node.png">
     Indicates that the node is registered to the hub and it can be used. 
     <pre class="codeblock2">INFO [SelfRegisteringRemote.registerToHub] 
          - The node is registered to the hub and ready to use</pre>


    <br><h4>Node 2 Configuration</h4>
    <ul><li>We need to have multiple nodes to take the full advantage of the grid system.
    </li><li>Follow the same steps mentioned above for configuring the nodes in other machines.
    </li><li>For the demo purpose we have created the above node for chrome browser.
    </li><li>Similarly create a node for firefox in another machine using the below command.
    </li></li>Save the command in file Node2.bat
     </li></ul>
    <pre class="codeblock2">java -Dwebdriver.gecko.driver="geckodriver.exe" 
    -jar selenium-server-standalone-3.141.59.jar -role node 
    -hub http://10.0.0.0:4444/grid/register -port 5557 
    -browser "browserName=firefox, maxInstances=5, platform=ANY, 
     seleniumProtocol=WebDriver"</pre>

    <br><h4>Node 3 Configuration</h4>
    <ul><li>We need to have multiple nodes to take the full advantage of the grid system.
    </li><li>Follow the same steps mentioned above for configuring the nodes in other machines.
    </li><li>For the demo purpose we have created the above nodes for chrome browser, firefox browser. 
    </li><li>Similarly create a node for microsoft edge in another machine using the below command.
    </li><li>Save the command in file Node3.bat
    </li></ul>
    <pre class="codeblock2">java -Dwebdriver.ie.driver="IEDriverServer.exe" 
    -jar selenium-server-standalone-3.141.59.jar -role node 
    -hub http://10.0.0.0:4444/grid/register -port 5558 
    -browser "browserName=internet explorer,version=10,platform=WINDOWS,maxInstances=5"</pre>
    
    <br><h4>Folder Structure</h4>
    <img src="img/grid/folder-structure.png">
    <br><br><b>HUB folder :</b> Move this folder to the HUB machine
    <br><img src="img/grid/HUB-folder.png">

    <br><br><b>Node 1 folder :</b> Move this folder to a node machine.
    <br><img src="img/grid/Node 1.png">

    <br><br><b>Node 2 folder :</b> Move this folder to a node machine.
    <br><img src="img/grid/Node 2.png">

    <br><br><b>Node 3 folder :</b> Move this folder to a node machine.
    <br><img src="img/grid/Node 3.png">

<br><br>Now the configuration is complete. Then we will go for parallel test execution through selenium grid.


       <br><br>
       <button  class="btn btn-primary" onclick="openTopic(event, 'basicoperation')"><- Prev</button>  
       <button  class="btn btn-success" onclick="openTopic(event, 'branching')">Next -></button>  
       <br><br>  

</div>


<!-------------------------------------------------------- End of configuration --------------------------------------------->

<!-------------------------------------------------------- Start of grid execution --------------------------------------------->

<div id="execution" class="topics" style="line-height: 180%;">

<br><h4>Pre Requisites</h4>
<ul><li>In the design section, we have 3 scripts for each browser.
</li>The HUB folder is in the hub machine, The Node 1,2,3 folders are moved to the node machines.
</li><li>The HUB, Nodes should be in the same network (for testing we can have all three persons connected to same wifi)
</li><li>Windows firewall should be turned off. Window+R -> Control panel -> Windows and security -> Switch off firewall.
</ul>


<br><h4>Start Hub</h4>
<ul><li>Go to the Hub folder and run 'Hub.bat'
</li><li>In the command prompt, it will say the the server is started.
</li><li>Note down the ip address of the hub system
</li><li>Open the grid console using the ip address, replace the 10.10..with the ip address of the hub machine.
<br><a href="http://10.10.10.49:4444/grid/console" target="_blank">http://10.10.10.49:4444/grid/console</a>
<br><a href="http://localhost:4444/grid/console" target="_blank">http://localhost:4444/grid/console</a>
</li><li>In the grid console you will not see anything
</li></ul>


<br><h4>Start Node 1</h4>
<ul><li>Go to the first machine and open Node 1 folder
</li><li>Open the Node 1.bat file in edit mode
</li><li>Change the ip address received from the server
</li><li>Save the bat file and double click.
</li><li>In the command prompt it will display the node is registered and ready to use.
</li><li>At the HUB also in the command prompt it will display that a node is registered.
</li><li>Now check the grid console, it will display this node machine's address.
<a href="http://10.10.10.49:4444/grid/console" target="_blank">http://10.10.10.49:4444/grid/console</a>
</li></ul>



<br><h4>Start Node 2</h4>
<ul><li>Go to the second machine and open Node 2 folder
</li><li>Open the Node 2.bat file in edit mode
</li><li>Change the ip address received from the server
</li><li>Save the bat file and double click.
</li><li>In the command prompt it will display the node is registered and ready to use.
</li><li>At the HUB also in the command prompt it will display that a node is registered.
</li><li>Now check the grid console, it will display this node machine's address.
<a href="http://10.10.10.49:4444/grid/console" target="_blank">http://10.10.10.49:4444/grid/console</a>
</li></ul>


<br><h4>Start Node 3</h4>
<ul><li>Go to the third machine and open Node 3 folder
</li><li>Open the Node 3.bat file in edit mode
</li><li>Change the ip address received from the server
</li><li>Save the bat file and double click.
</li><li>In the command prompt it will display the node is registered and ready to use.
</li><li>At the HUB also in the command prompt it will display that a node is registered.
</li><li>Now check the grid console, it will display this node machine's address.
<a href="http://10.10.10.49:4444/grid/console" target="_blank">http://10.10.10.49:4444/grid/console</a>
</li></ul>


<br><h4>The client(My machine)</h4>
<ul><li>Import the three scripts we have designed
</li><li>Change the IP address of the HUB machine in all three scripts
</li><li>Run the testng.xml file.
</li><li>It will start running the scripts in the node machines - Node 1, Node 2, Node 3
</li><li>If we check the grid console, it will show the few browser icons disabled, that indicates the browser instance is running.
</li><li>The results will be stored in the client machine, from where the scripts are getting executed.
</li></ul>


<br><h4>The Grid Console</h4>
The Grid console is a url <a href="http://10.10.10.49:4444/grid/console" target="_blank">http://10.10.10.49:4444/grid/console</a> that helps in monitoring the grid execution.
The console shows
<ul><li>The connected machine's IP address
</li><li>Browser and its maximum instances
</li><li>Execution status
</li></ul>

       <br><br>
       <button  class="btn btn-primary" onclick="openTopic(event, 'basicoperation')"><- Prev</button>  
       <button  class="btn btn-success" onclick="openTopic(event, 'branching')">Next -></button>  
       <br><br>  

</div>

<!-------------------------------------------------------- End of execution --------------------------------------------->

<!-------------------------------------------------------- Start of summary --------------------------------------------->

<div id="summary" class="topics" style="line-height: 180%;">

<br><h4>When do we need Parallel Execution?</h4>
<ul><li>To test in multiple browser versions
</li><li>Need to execute huge number of test cases
</li><li>Need to test in multiple OS platforms
</li></ul>

<br><h4>How to do Parallel Execution?</h4>
<ul><li>Using Selenium Grid
</li><li>Or using Cloud Based apps (Sauce labs, BrowserStack,KeyNote)
</li></ul>


<br><h4>Sauce labs, BrowserStack?</h4>
</li><li>Sauce labs, BrowserStacks are paid tools
</li><li> They have all possible combinations of platforms & versions.
</li><li>Lot of organizations use these tools for parallel execution of their test cases.
</li></ul> 


<br><h4>Key Notes</h4>
<ul><li>By default the grid will run on port 4444
</li><li>Selenium Grid consists of Hub & Node. Many people think that the selenium scripts are executed on node. That's wrong.
The scripts are executed on client machines -> It goes to Hub -> Then the automated browser runs on node and sends back results.
</li><li>The selenium script has desired capabilities & the node has actual capabilities.
</li><li>When selenium HUB finds a match between the desired capability & actual capability, it sends the request to the node. If it doesn't find a match then
it waits until the request time out is met.
</li></ul> 
 
       <br><br>
       <button  class="btn btn-primary" onclick="openTopic(event, 'basicoperation')"><- Prev</button>  
       <button  class="btn btn-success" onclick="openTopic(event, 'branching')">Home -></button>  
       <br><br>  

</div>
<!-------------------------------------------------------- End of summary --------------------------------------------->


<!-- Comments Form -->
        <div class="card my-4">
          <h5 class="card-header">Leave a Comment:</h5>
          <div class="card-body">
            <form>
              <div class="form-group">
                <input type="text" placeholder="Your name.." class="form-control" >
                <br><input type="text" placeholder="Your email.." class="form-control">
                <br><textarea class="form-control" rows="3"></textarea>

              </div>
              <button type="submit" class="btn btn-primary">Submit</button>
            </form>
          </div>
        </div>

        
        <!-- Comment with nested comments -->
        <div class="media mb-4" style="visibility: hidden;">
          <img class="d-flex mr-3 rounded-circle" src="../img/comment/girl3.jpg" alt="" style="width:10%">
          <div class="media-body">
            <h5 class="mt-0">@Priyanka Chopra</h5>
            <p class="text-muted">12 Dec 2020 01:06:12</p> 
            Cras sit amet nibh libero, in gravida nulla. Nulla vel metus scelerisque ante sollicitudin. Cras purus odio, vestibulum in vulputate at, tempus viverra turpis. Fusce condimentum nunc ac nisi vulputate fringilla. Donec lacinia congue felis in faucibus.

            <div class="media mt-4">
              <img class="d-flex mr-3 rounded-circle" src="../img/brand/me.png" alt="" style="width:10%">
              <div class="media-body">
                <h5 class="mt-0">@Biswajit Sundara</h5>
                Cras sit amet nibh libero, in gravida nulla. Nulla vel metus scelerisque ante sollicitudin. Cras purus odio, vestibulum in vulputate at, tempus viverra turpis. Fusce condimentum nunc ac nisi vulputate fringilla. Donec lacinia congue felis in faucibus.
              </div>
            </div>


          </div>
        </div>

      </div>

    
     


    </div>
    <!-- /.row -->

  </div>
  <!-- /.container -->

  <!-- Footer -->
  <footer class="py-5 bg-dark">
    <div class="container">
      <p class="m-0 text-center text-white">Copyright &copy; biswajitsundara.github.io 2020</p>
    </div>
    <!-- /.container -->
  </footer>

  
<script>
function openTopic(evt, topicName) {
  var i, x;
  x = document.getElementsByClassName("topics");
  for (i = 0; i < x.length; i++) {
     x[i].style.display = "none";
  }
 
  document.getElementById(topicName).style.display = "block";

    window.scrollTo(0, 0);
  
}

function LoadFunc()
{
 x = document.getElementsByClassName("topics");
  for (i = 0; i < x.length; i++) {
     x[i].style.display = "none";
  }

document.getElementById('basics').style.display = "block";
}
</script>

</body>

</html>
