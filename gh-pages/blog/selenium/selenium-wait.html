<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link href='https://fonts.googleapis.com/css?family=Pontano Sans' rel='stylesheet'>
<link href='https://fonts.googleapis.com/css?family=Roboto' rel='stylesheet'>

<!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css">

<!-- jQuery library -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

<!-- Latest compiled JavaScript -->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"></script>

<link href="../css/blogpage.css" rel="stylesheet">

<link href="../css/comment2.css" rel="stylesheet">

<style>
body {
  margin: 0;
  font-family: 'Roboto',sans-serif;
}

.sidebar {
  margin: 0;
  padding: 0;
  background-color: #f1f1f1;
  position: fixed;
  height: 100%;
  overflow: auto;
  box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);
  width: 21vw;

}

.sidebar a {
  display: block;
  color: black;
  padding: 10px;
  text-decoration: none;
}
 
.sidebar a.active {
  background-color: #4CAF50;
  color: white;
}

.sidebar a:hover:not(.active) {
  background-color: #555;
  color: white;
}

.heading
{
  font-size:36px;
  margin-top:30%;
}

#tocCard
{
  margin-top:5%;
}

div.topics {
  margin-left:20vw;
  height: 1000px;
  line-height: 200%;
  font-family: 'Roboto',sans-serif;font-size: 16px; font-weight:400; 
}

@media screen and (max-width: 700px) {
  .sidebar { 
    display: none; 
  }
  div.container {margin-left: -10%;}
  h2.heading {margin-top:15%;}
  div#tocCard {margin-left:5%;} 
}

h1 { font-family: Cambria, serif; font-size: 36px; font-weight: 700; line-height: 150%; padding: 16px;}


</style>


<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-158659468-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-158659468-1');
</script>


</head>


<body onload="LoadFunc()">

<div class="sidebar">
<h1><center>Selenium Wait</center></h1>
  <a class="active" href="#" name="menu" id="homeMenu" onclick="openTopic(event, 'home')">Home</a>
  <a href="#" name="menu" id="basicsMenu" onclick="openTopic(event, 'basics')" >Wait Basics</a>
  <a href="#" name="menu" id="factoryMenu" onclick="openTopic(event, 'implicit')" >Implicit Wait</a>
  <a href="#" name="menu" id="pomFactoryMenu" onclick="openTopic(event, 'explicit')">Explicit Wait</a>
  <a href="#" name="menu" id="selFactoryMenu" onclick="openTopic(event, 'fluent')">Fluent Wait</a>
  <a href="#" name="menu" id="pomFactoryMenu" onclick="openTopic(event, 'pageload')">Page Load Timeout</a>
  <a href="#" name="menu" id="pomFactoryMenu" onclick="openTopic(event, 'scriptout')">Script Timeout</a>
  <a href="#" name="menu" id="pomGenericsMenu" onclick="openTopic(event, 'thread')">Thread.sleep</a>
  <a href="#" name="menu" id="loadpatMenu" onclick="openTopic(event, 'expected')">Expected Conditions</a>
  <a href="#" name="menu" id="fluidPatMenu" onclick="openTopic(event, 'mixing')">Mixing Waits</a>
   <a href="#" name="menu" id="woutFactoryMenu" onclick="openTopic(event, 'summary')">Summary</a>
</div>


<div class="container">

    <div id="home" class="topics">
         
         <div class="row">
 
               <div class="col-md-5">

                   <h2 class ="heading">Selenium Wait</font></h2>
                   Please comment below if you like the book
                   
                   <br><br><button type="button" class="btn btn-info" onclick="window.open('../bloghome.html')">Blog Home</button>
                   <button type="button" class="btn btn-success" onclick="window.open('../../../index.html')">Author Profile</button>
               </div> <!---------------End of First column---------->


         <div class="col-md-7">
          <br><br>
              <div class="card">
                   <div class="row no-gutters">    
                      <div class="col-md-5">
                        <br><br><img src="../img\brand\profile.png" class="card-img" alt="...">
                      </div>
   
                   <div class="col-md-7">
                      <div class="card-body">
                      <h5 class="card-title">Author Bio</h5>
                      <p class="card-text">This web book is written by Biswajit Sundara.
	              He has 10+ years of IT experience and an avid blogger on technology.</p>
                     <p class="card-text"><small class="text-muted">March 31st, 2020</small></p>
                 </div>
         </div>
     </div>
</div> <!---------------End of Second column---------->

</div> <!---------------End of Row---------->


<div class="row" id="tocCard">

<div class="card-deck">
<div class="card" style="width: 18rem;">
  <div class="card-header">
    Featured
  </div>
  <ul class="list-group list-group-flush">
    <li class="list-group-item"><a href="#" onclick="openTopic(event, 'basics')">Wait Basics</a></li>
    <li class="list-group-item"><a href="#"  onclick="openTopic(event, 'implicit')">Implicit Wait</a></li>
    <li class="list-group-item"><a href="#"  onclick="openTopic(event, 'explicit')">Explicit Wait</a></li>
    
  </ul>
</div>

<div class="card" style="width: 18rem;">
  <div class="card-header">
    Featured
  </div>
  <ul class="list-group list-group-flush">
    <li class="list-group-item"><a href="#"  onclick="openTopic(event, 'selFactory')">Fluent Wait</a></li>
    <li class="list-group-item"> <a href="#"  onclick="openTopic(event, 'pomGenerics')">Thread.sleep</a></li>
    <li class="list-group-item"><a href="#"  onclick="openTopic(event, 'loadpat')">Expected Conditions</a></li>
    
    
  </ul>
</div>

<div class="card" style="width: 18rem;">
  <div class="card-header">
    Featured
  </div>
  <ul class="list-group list-group-flush">
    <li class="list-group-item"><a href="#"  onclick="openTopic(event, 'fluidPat')">Mixing Waits</a></li>
    <li class="list-group-item"><a href="#" onclick="openTopic(event, 'woutFactory')">Summary</a></li>
    <li class="list-group-item"><a href="#" onclick="openTopic(event, 'POMframework')">Comment</a></li>
  </ul>
</div>

</div>

</div> <!---------------End of Row---------->

</div><!---------------End of Row---------->

<br><br>
<form action="https://docs.google.com/forms/u/0/d/e/1FAIpQLSfVCUKnD_-vfrm9XatsW_mq3sSron9_J_Fsd0BSt-MNaWv4ww/formResponse" target="_self" method="POST">
    <div class="row">
      <div class="col-25">
        <label for="uname">Name</label>
      </div>
      <div class="col-75">
        <input type="text" id="uname" name="entry.689225320" placeholder="Your name..">
      </div>
    </div>
    <div class="row">
      <div class="col-25">
        <label for="email">Email</label>
      </div>
      <div class="col-75">
        <input type="text" id="email" name="emailAddress" placeholder="Your email address..">
      </div>
    </div>
    
    <div class="row">
      <div class="col-25">
        <label for="comment">Comment</label>
      </div>
      <div class="col-75">
        <textarea id="comment" name="entry.1648468188" placeholder="Write your precious comment here.." style="height:200px"></textarea>
      </div>
    </div>
    <div class="row">
      <input type="hidden" name="entry.2069828936" value="page-object-model">
    </div>
    <div class="row">
      <input type="submit" value="Post Comment">
    </div>
  </form>

<br><br><br>

</div> <!---------------End of Topic---------->


<!------------------------------------------------------------------ End of Home ---------------------------------------------------------------->

<div id="basics" class="topics">
    <br><br><h2>Selenium Wait Basics</h2><hr> 
  
  <h4><font color="#5e98c8">What is synchronization?</font></h4>    
      <p>Synchronization means two or more things move at the same rate or time. When we execute our test automation script, the selenium scripts has its own speed with which it fires commands. 
      On the other side, the web application runs with its own speed so to run the automation scripts successfully we need to bring synchronization between both</p>        
 

 <br><h4><font color="#5e98c8">What is selenium wait?</font></h4>     
  <p>The solution to the synchronization problem is "Wait". We can't control the web application for sure, it depends on how the requests are processed at the server end, how the pages are rendered 
      based on system capabilities (like memory, processor etc), how it interacts with other APIs, database read/write operations etc. So we need to control our automation script.
      We need to wait until the element is available on the web page with the desired state upon which we want to perform the action.
      <br><center><img src="img/wait/wait.png"></center> 
   </p>

<br><h4><font color="#5e98c8">Scenarios where we need wait</font></h4>
         
<b>Scenario One: </b> If you are signing up on IRCTC website, you have entered the pin code but the city dropdown doesn’t come immediately, it takes some time to load the city based on the zip code, if our code doesn’t have a wait, it will try to find out the city immediately and that will throw an exception.

<br><br><b>Scenario Two: </b> When we move from one page to another, the page doesn't get loaded immediately. But our script runs the next statement immediately. If we don't wait for the webelement to apppear on the next page, it will throw NoSuchElementFoundException.

<br><br><b>Scenario Three: </b>On a webpage you are saving the entered data, so it is processing and the next button is disabled. If we don't wait for the button to be enabled then it will throw ElementNotInteractableError.

<br><br><b>Scenario Four: </b>Sometimes the element is in the DOM and it's taking time to load, if we don't add wait, then it will throw ElementNotVisibleException.
<br><br>Below are some situations where elements take more time to load and due to which we need to make use of wait mechanism
<ul><li>Poor Server Response time
</li><li>Ajax Loading
</li><li>Size of the page
</li><li>Internet Speed
</li><li>System hardware
</li><li>Browser slowness / less responsiveness
</li><li>Element created using java script
</ul>

<br><h4><font color="#5e98c8">Types Of Wait</font></h4>

<p>Selenium Offers two types of wait mechanism.</p>
<ul>
</li><li>Implicit Wait
</li><li>ExplicitWait
</ul>
<img src="img/wait/waitType.png">

<br><br>There's another wait type <font color="blue">Thread.sleep</font>. It is not from Selenium and comes from Java language. However with selenium-java bindings this wait can be used
to add some generic wait to the test execution.


<br><br><button  class="btn btn-primary" onclick="openTopic(event, 'home')"><- Home</button>  
<button  class="btn btn-success" onclick="openTopic(event, 'factory')">Next -></button>  
<br><br>
 
</div> <!-- End of basics topic -->

<!----------------------------------------------------------- End of basics topic ------------------------------------------------------------------------------>

<div id="implicit" class="topics">
<br><br><h2>Implicit Wait</h2><hr>
Implicit wait is another type of wait that helps resolving the synchronization issues

<ul>
<li>This is selenium wait.
</li><li>If element is found before implicitly wait time, selenium moves to next commands in the program without waiting to complete the implicitly wait time, this wait is also called dynamic wait.
</li><li>Implicit wait is set for the entire duration of your webdriver and is set at the start of your program. Most of the automation tester writes the implicit wait after creation of browser object. 
         That's why it's called <b>Global Wait</b>
</li><li>Implicit wait tries to find the element in first go, if element is not present implicit wait tries to find the element after 500ms of first polling, if element is not available on second time also then implicit wait tries third time after 500 ms of second try and it goes on till the time reaches the timeout specified.
</li><li>If the implicit wait expires without locating the element, it will throw NoSuchElementException
</li><li>We need to write Thread.sleep() wherever we want WebDriver to wait. It is not the case with Implicit wait. Once we set implicit wait, it will be applicable for all findElemnt() and findElements() method. There is no need to write implicit wait code again and again.
</li><li>Let's say if we set implicit wait as 30 seconds, It will be attached to the entire life cycle of webDriver and applicable to all web elements to be located by WebDriver. We can't say wait for 30 seconds for one element and 40 seconds for another element. We can't vary the wait time.
</li><li>When searching for a single element, the driver should poll the page until the element has been found, or this timeout expires before throwing a NoSuchElementException. When searching for multiple elements, the driver should poll the page until at least one element has been found or this timeout has expired.
</li><li>If you write implicit wait statement multiple times, time specified in latest implicit wait statement will be applicable. For example: You specify implicit wait as 30 seconds at line no 5 and another implicit wait as 60 seconds at line no 10, then implicit wait as 30 seconds will be applicable from line no 6-9 and implicit wait for 60 seconds will be applicable from line no 11 onward. So if someone asks how can you change implicit wait time, this can be answer.
</li><li>The default setting is Zero. Once set, the implicit wait is set for the life of the WebDriver object instance.
</li><li>This is applicable to only findElement, findElements methods.
</li></ul>

<br><h4><font color="#5e98c8">Syntax Explanation</font></h4>
<pre class="codeblock1">driver.manage().timeouts().implicitlyWait(10,TimeUnit.SECONDS) ;</pre>

<pre class="codeblock1">//This is a chained method pattern. manage() is a method in the RemoteWebDriver class. 
//It returns Options.
</span>
<span style='font-weight:bold;color:#7B0052;'>public</span> Options manage() 
<span style='font-weight:bold;color:#D3171B'>{</span>
    <span style='font-weight:bold;color:#7B0052;'>return</span> <span style='font-weight:bold;color:#7B0052;'>new</span> RemoteWebDriverOptions();
<span style='font-weight:bold;color:#D3171B'>}</span>

<span style='color:#3F7F5F'>//Options is a nested interface in WebDriver and has a method timeouts()
</span>
<span style='color:#3F5FBF'>/**
* @return the interface for managing driver timeouts.
*/</span>
    Timeouts timeouts();


<span style='color:#3F7F5F'>//The timeouts method returns another nested interface in WebDriver = TimeOuts
</span><span style='color:#3F7F5F'>//In the TimeOutInterface, the method implicitlywait exists
</span>
 * @param time The amount of time to wait.
     * @param unit The unit of measure <span style='font-weight:bold;color:#7B0052;'>for</span> <span style='font-weight:bold;color:#D3171B'>{</span>@code time<span style='font-weight:bold;color:#D3171B'>}</span>.
     * @return A self reference.
     */
    Timeouts implicitlyWait(<span style='font-weight:bold;color:#7B0052;'>long</span> time, TimeUnit unit);

<span style='color:#3F7F5F'>//The implementation is in RemoteWebDriver class
</span>
 <span style='font-weight:bold;color:#7B0052;'>protected</span> <span style='font-weight:bold;color:#7B0052;'>class</span> RemoteTimeouts <span style='font-weight:bold;color:#7B0052;'>implements</span> Timeouts 
    <span style='font-weight:bold;color:#D3171B'>{</span>

       <span style='font-weight:bold;color:#7B0052;'>public</span> Timeouts implicitlyWait(<span style='font-weight:bold;color:#7B0052;'>long</span> time, TimeUnit unit) 
       <span style='font-weight:bold;color:#D3171B'>{</span>
        execute(DriverCommand.SET_TIMEOUT, ImmutableMap.of(
            <span style='color:#2A00FF'>"implicit"</span>, TimeUnit.MILLISECONDS.convert(time, unit)));
        <span style='font-weight:bold;color:#7B0052;'>return</span> <span style='font-weight:bold;color:#7B0052;'>this</span>;
       <span style='font-weight:bold;color:#D3171B'>}</span>
    <span style='font-weight:bold;color:#D3171B'>}</span></pre>



<br><h4><font color="#5e98c8">Implement ImplicitWait using sleep method in selenium</font></h4>

<pre class="codeblock1">public</span> <span style='font-weight:bold;color:#7B0052;'>class</span> ImplicitWaitWithSleep 
<span style='font-weight:bold;color:#D3171B'>{</span>

   <span style='font-weight:bold;color:#7B0052;'>public</span> <span style='font-weight:bold;color:#7B0052;'>static</span> WebDriver driver;

   <span style='font-weight:bold;color:#7B0052;'>public</span> <span style='font-weight:bold;color:#7B0052;'>static</span> <span style='font-weight:bold;color:#7B0052;'>void</span> main(String[] args) 
   <span style='font-weight:bold;color:#D3171B'>{</span>
	System.setProperty(<span style='color:#2A00FF'>"webdriver.chrome.driver"</span>, <span style='color:#2A00FF'>"./drivers/chromedriver.exe"</span>);

	driver = <span style='font-weight:bold;color:#7B0052;'>new</span> ChromeDriver();

	driver.get(<span style='color:#2A00FF'>"https://google.com/"</span>);
		
	implicitlyWithSleep(30);

   <span style='font-weight:bold;color:#D3171B'>}</span>

  <span style='font-weight:bold;color:#7B0052;'>public</span> <span style='font-weight:bold;color:#7B0052;'>static</span> <span style='font-weight:bold;color:#7B0052;'>void</span> implicitlyWithSleep(<span style='font-weight:bold;color:#7B0052;'>long</span> timeLimit)
  <span style='font-weight:bold;color:#D3171B'>{</span>
     System.out.println(<span style='color:#2A00FF'>"Custom implicitly wait with selenium"</span>);
		
     <span style='color:#3F7F5F'>//set the counter for terminate purpose
</span>     <span style='font-weight:bold;color:#7B0052;'>long</span> count = 0;
		
    <span style='color:#3F7F5F'>// calculate the number of tries
</span>    <span style='font-weight:bold;color:#7B0052;'>long</span> tries = (timeLimit * 1000) /300;
		
    <span style='font-weight:bold;color:#7B0052;'>while</span>(<span style='font-weight:bold;color:#7B0052;'>true</span>)
    <span style='font-weight:bold;color:#D3171B'>{</span>
	<span style='font-weight:bold;color:#7B0052;'>try</span> 
	<span style='font-weight:bold;color:#D3171B'>{</span>
	  System.out.println(<span style='color:#2A00FF'>"Trying for : "</span>+count+<span style='color:#2A00FF'>" time(s)"</span>);
	  <span style='color:#3F7F5F'>// try to find the element and send keys
</span>	  driver.findElement(By.xpath(<span style='color:#2A00FF'>"//input[@name='q']"</span>)).sendKeys(<span style='color:#2A00FF'>"Implicit wait with sleep"</span>);
	  System.out.println(<span style='color:#2A00FF'>"element found"</span>);
	  <span style='color:#3F7F5F'>// end the loop as we found the element
</span>	  <span style='font-weight:bold;color:#7B0052;'>break</span>;
	<span style='font-weight:bold;color:#D3171B'>}</span> 
			
	<span style='font-weight:bold;color:#7B0052;'>catch</span> (NoSuchElementException e) 
	<span style='font-weight:bold;color:#D3171B'>{</span>
	  <span style='font-weight:bold;color:#7B0052;'>if</span> (count &gt; tries) 
	  <span style='font-weight:bold;color:#D3171B'>{</span>
	    <span style='color:#3F7F5F'>// throw exception if element not found after exception.
</span>	    <span style='font-weight:bold;color:#7B0052;'>throw</span> <span style='font-weight:bold;color:#7B0052;'>new</span> NoSuchElementException(<span style='color:#2A00FF'>"Element not fount after : "</span>+timeLimit+<span style='color:#2A00FF'>"seconds"</span>);
	  <span style='font-weight:bold;color:#D3171B'>}</span>
	  <span style='color:#3F7F5F'>// sleep for 300 milli seconds,
</span>	 <span style='color:#3F7F5F'>// try to find the element after 30 seconds of sleep
</span>				
	<span style='font-weight:bold;color:#7B0052;'>try</span> 
	<span style='font-weight:bold;color:#D3171B'>{</span>
	  Thread.sleep(300);
	<span style='font-weight:bold;color:#D3171B'>}</span> 
	<span style='font-weight:bold;color:#7B0052;'>catch</span> (InterruptedException e1) 
	<span style='font-weight:bold;color:#D3171B'>{</span>
	  System.out.println(<span style='color:#2A00FF'>"Sleep interupted"</span>);
	<span style='font-weight:bold;color:#D3171B'>}</span>
	
          <span style='font-weight:bold;color:#D3171B'>}</span>
			
        count++;
		
           <span style='font-weight:bold;color:#D3171B'>}</span>
	<span style='font-weight:bold;color:#D3171B'>}</span>
<span style='font-weight:bold;color:#D3171B'>}</span></pre>


<br><h4><font color="#5e98c8">Disadvantages of using Implicitly wait</font></h4>
<ul>
<li>If you use the implicit wait in selenium it applies to the web driver globally and increases the execution time for the entire script. so it is not always advisable.
</li><li>You can not wait till some specific condition is satisfied like invisibility of element, when alert is present etc.
</ul>

<br><button  class="btn btn-primary" onclick="openTopic(event, 'basics')"><- Prev</button>  
<button  class="btn btn-success" onclick="openTopic(event, 'pomFactory')">Next -></button>  
<br><br>

</div> <!-- End of factory topic -->


<!------------------------------------------------------------------------ End of java factory topic  ------------------------------------------------------------>

<div id="explicit" class="topics">
<br><br><h2>Explicit Wait</h2><hr>
An explicit wait makes WebDriver wait for a certain condition to occur before proceeding further with execution. This is the best wait mechanism and should always be used in selenium frameworks.


<br><br><h4><font color="#5e98c8">Why do we need Explicit Wait?</font></h4>
<ul><li>Sometimes when we open login page, it shows the enter user id, password fields but those are not editable, it takes time for them to become editable.
If we use implicit wait, once the fields are visible, it will pass and try to enter text and end up with element not interactable exception. Here we need to have a wait
which will specifically wait until the element becomes clickable. 

</li><li>Sometimes, when we click on alert/popup, it takes time to disappear, so we need to wait until the alert/pop up is invisible. This can't be handled using Thread.sleep as we don't know how much time it will take to disappear.
Also implicit wait can't handle this scenario. So we need a special kind of wait which will check invisibility of the element.

</li><li>Processing dumbbells, spinners come and go. We need to wait for them to appear and then disappear before proceeding further.

</li><li>When tables get populated, it takes time to load as the data is fetched from database. So we need to wait until the table data is visible.

</li><li>Now a days all applications are using toaster messages on the completion page. It stays for few seconds and then disaapears. If we directly click on logout button
it might not work as the toaster message would have hidden the button. So we need to wait for the toaster message to go before clicking on the logout button.
</li></ul>
From the above examples, we are sure, we need a wait to handle elements with conditions. 



<br><br><h4><font color="#5e98c8">Syntax</font></h4>  
<pre class="codeblock1">WebDriver driver = <span style='font-weight:bold;color:#7B0052;'>new</span> ChromeDriver();
WebDriverWait wait=<span style='font-weight:bold;color:#7B0052;'>new</span> WebDriverWait(driver, 30);
WebElement ele = driver.findElementByXPath(<span style='color:#2A00FF'>"//a[text()='Insurance Project']"</span>);
wait.until(ExpectedConditions.elementToBeClickable(ele));
ele.click();</pre>


<ul>
<li>WebDriverWait is a class. We can create an object of it by passing WebDriver instance and timeout in seconds. WebDriverWait will ignore instances of NotFoundException that are encountered (thrown) by default in the ‘until’ condition, and immediately propagate all others. You can add more to the ignore list by calling ignoring(exceptions to add).
</li><li>An exception will be called based on expected condition in case of time out and condition is not satisfied.
</li><li>Expected Conditions is a class and it has methods to check specific conditions.
</li><li>Above code waits up to 30 seconds before throwing a TimeoutException or if it finds the element will return it in 0 – 30 seconds. 
</li><li>WebDriverWait by default calls the ExpectedCondition every 500 milliseconds until it returns successfully. A successful return value for the ExpectedCondition function type is a Boolean value of true, or a non-null object.
</li><li>Like implicit wait, explicit wait will also not wait further if condition is satisfied before timeout reaches.
</li><li>Unlike implicit wait, explicit wait is not for entire webdriver session.
</li><li>Unlike implicit wait, you need to write explicit wait every time whenever you need it as it is specific to a web element.
</li><li>No need to create object of WebDriverWait again and again if you want similar timeout . If you need another timeout duration or driver instance, go for new instance of WebDriverWait.
</li><li>We can specify timeout only in seconds. Other units of time are not possible.
</li><li>You can reduce test execution time by using explicit wait.
</li><li>We can customized polling time or ignore other exceptions as well using WebDriverWait instance. <br>For example:
<pre>
WebDriverWait wait= new WebDriverWait(driver, 30);
wait.pollingEvery(1, TimeUnit.MICROSECONDS);
wait.ignoring(ElementNotVisibleException.class);
</pre>
</li></ul>


<br><br><button  class="btn btn-primary" onclick="openTopic(event, 'factory')"><- Prev</button>  
<button  class="btn btn-success" onclick="openTopic(event, 'selFactory')">Next -></button>  
<br><br>

</div>

<!------------------------------------------------------------------------ End of pom with page factory topic  ----------------------------------------------------->

<div id="fluent" class="topics">
<br><br><h2>Fluent Wait</h2><hr>
Fluent wait is another type of explicit wait where we can define the polling and ignore exception to continue with script execution incase element is not fond.

<br><br><pre class="codeblock1"><span style='color:#3F7F5F'>// Waiting 30 seconds for an element to be present on the page
// checking for its presence once every 5 seconds. </span> 
Wait wait = <span style='font-weight:bold;color:#7B0052;'>new</span> FluentWait(driver)
    .withTimeout(30, SECONDS)
    .pollingEvery(5, SECONDS)
    .ignoring(NoSuchElementException.class);

WebElement foo = wait.until(<span style='font-weight:bold;color:#7B0052;'>new</span> Function() 
<span style='font-weight:bold;color:#D3171B'>{</span>
    	<span style='font-weight:bold;color:#7B0052;'>public</span> WebElement apply(WebDriver driver) 
    	<span style='font-weight:bold;color:#D3171B'>{</span>
    	    <span style='font-weight:bold;color:#7B0052;'>return</span> driver.findElement(By.id(<span style='color:#2A00FF'>"foo"</span>));
    	<span style='font-weight:bold;color:#D3171B'>}</span>
<span style='font-weight:bold;color:#D3171B'>}</span>);</pre>


<br><h4><font color="#5e98c8">Consider below scenario </font></h4>

You are testing Flipkart home page. Flipkart lists top items at home page which includes electronics, furniture etc. Now scenario is you need to find first 10 mobile displayed at home page. 

<ul><li>First of all you need to list all displayed item. It will include all displayed items. Then you need to filter out mobile out of all result. Once you find 10th mobile, you need to stop looking for next and return model names of top 10 mobiles.

</li><li>You can use sleep, Implicit or explicit wait for above scenario but you can just wait till elements are found. But you need to wait till 10th mobile item is listed at home page. 

</li><li>Apart from that Filtering, verification of count and returning model number can not be done along wait. But it can be achieved using fluent wait.
</li></ul>

<pre class="codeblock1">FluentWait wait5 = <span style='font-weight:bold;color:#7B0052;'>new</span> FluentWait(driver);		
wait5.withTimeout(30, TimeUnit.SECONDS);
wait5.pollingEvery(5, TimeUnit.SECONDS);
wait5.ignoring(NoSuchElementException.class);
 
Function&lt;webdriver, boolean&gt; flag=  <span style='font-weight:bold;color:#7B0052;'>new</span> Function&lt;webdriver, boolean&gt;() 
<span style='font-weight:bold;color:#D3171B'>{</span>
    <span style='font-weight:bold;color:#7B0052;'>public</span> Boolean apply(WebDriver driver) 
    <span style='font-weight:bold;color:#D3171B'>{</span>
	List allEle= driver.findElements(By.name(<span style='color:#2A00FF'>"foo"</span>));
	List allText= <span style='font-weight:bold;color:#7B0052;'>new</span> ArrayList&lt;&gt;();
	<span style='font-weight:bold;color:#7B0052;'>for</span>(WebElement e: allEle)
	<span style='font-weight:bold;color:#D3171B'>{</span>
	   String textEle= e.getText();
	   <span style='font-weight:bold;color:#7B0052;'>if</span>(textEle.equals(<span style='color:#2A00FF'>"SomeData"</span>))
	   allText.add(textEle);
	   <span style='font-weight:bold;color:#7B0052;'>if</span>(allText.size()==10)
	   <span style='font-weight:bold;color:#D3171B'>{</span>
	      <span style='font-weight:bold;color:#7B0052;'>return</span> <span style='font-weight:bold;color:#7B0052;'>true</span>;
	   <span style='font-weight:bold;color:#D3171B'>}</span>
	 <span style='font-weight:bold;color:#D3171B'>}</span>
	
      <span style='font-weight:bold;color:#7B0052;'>return</span> <span style='font-weight:bold;color:#7B0052;'>false</span>;
    <span style='font-weight:bold;color:#D3171B'>}</span>
 
<span style='font-weight:bold;color:#D3171B'>}</span>;
wait5.until(flag);</pre>

Above code will make webdriver wait till 10th mobile item is displayed or waiting time expires. Fluent wait is just an upgraded version of Explicit wait. In explicit wait, expected conditions are canned(predefined) but by using fluent wait, you can write your own conditions, you can assert and can do whatever you want.


<br><br><button  class="btn btn-primary" onclick="openTopic(event, 'pomFactory')"><- Prev</button>  
<button  class="btn btn-success" onclick="openTopic(event, 'pomGenerics')">Next -></button>  
<br><br>

</div>

<!------------------------------------------------------------------------ End of selenium page factory topic  ----------------------------------------------------->

<div id="pageload" class="topics">
<br><br><h2>Page Load Timeouts</h2><hr>
Everyone talks about page load time out. First let's understand what does it mean by page load and the time factor involved in it. 

<br><br><h4><font color="#5e98c8">How page load time works</font></h4>
<ul><li>User enters a URL, submits a form, or clicks on a hyperlink
</li>Browser makes a request to the server through the network
</li><li>The request is processed by the web server
</li><li>Web server sends the response back to the browser
</li><li>Browser starts receiving the requested page (known as time to first byte)
</li><li>Browser parses, loads, and renders the page content
</li><li>The entire requested page becomes available on the browser
</ul>

<pre>
    A= The time when the request was sent to server
    B= The time when the requested page is available on the browser
    pageLoadTime= B-A
</pre>


<br><h4><font color="#5e98c8">Page Load Timeout in Selenium</font></h4>
<ul><li>This sets the time limit for a page to load, If the page is not loaded within the given time frame then selenium throws TimeOutException.
</li><li>If the value is set to zero or negative then it will wait indefinitely
</li><li>By default the page load time out is zero (means it waits indefinitely)
</li><li>Page Load timeout is applicable only to driver.get() and driver.navigate().to() methods in selenium
</li><li>Make sure to declare this before the driver.get() or driver.navigate() method else it won't have any impact.
</li><li>Page load timeout in selenium is not applicable when the user clicks a link to open a page.
</li><li>pageLoadTimeout is a method in TimeOuts interface which is a nested interface in WebDriver
</li><li>The pageLoadTimeout method accepts two arguments - (long time & TimeUnit unit)
</li><li>pageLoadTimeout method returns the TimeOuts
</ul>

<br><h4><font color="#5e98c8">Syntax</font></h4>
<pre class="codeblock1">
driver.manage().timeouts().pageLoadTimeout(1, TimeUnit.SECONDS);</pre>


<br><h4><font color="#5e98c8">Example</font></h4>
For example, I have taken a slowly loading website and set the time out as 1 second. The below code will throw timeOut exception. And if we increase the time to let's say 5-10 seconds then it will work fine.
<br><pre class="codeblock2"><span style='font-weight:bold;color:#7B0052;'>public</span> <span style='font-weight:bold;color:#7B0052;'>class</span> PageLoadTimeOutDemo <span style='font-weight:bold;color:#D3171B'>
{</span>

	@Test
	<span style='font-weight:bold;color:#7B0052;'>public</span> <span style='font-weight:bold;color:#7B0052;'>void</span> TestPageLoadTimeOut()
	<span style='font-weight:bold;color:#D3171B'>{</span>
		System.setProperty(<span style='color:#2A00FF'>"webdriver.chrome.driver"</span>, <span style='color:#2A00FF'>"C:\\drivers\\chromedriver.exe"</span>);
		WebDriver driver= <span style='font-weight:bold;color:#7B0052;'>new</span> ChromeDriver();
		driver.manage().timeouts().pageLoadTimeout(1, TimeUnit.SECONDS);
		driver.get(<span style='color:#2A00FF'>"https://dharma-production.com/"</span>);
		System.out.println(driver.getTitle());
		
	<span style='font-weight:bold;color:#D3171B'>}</span>
<span style='font-weight:bold;color:#D3171B'>}</span></pre>


<br><br><pre class="codeblock2"><span style='font-weight:bold;color:#7B0052;'>public</span> <span style='font-weight:bold;color:#7B0052;'>class</span> Page <span style='font-weight:bold;color:#D3171B'>{</span>

	<span style='font-weight:bold;color:#7B0052;'>public</span> WebDriver driver;
	<span style='font-weight:bold;color:#7B0052;'>public</span> WebDriverWait wait;

	<span style='color:#3F7F5F'>//Constructor
</span>	<span style='font-weight:bold;color:#7B0052;'>public</span> Page(WebDriver driver, WebDriverWait wait)<span style='font-weight:bold;color:#D3171B'>{</span>
		this.driver = driver;
		this.wait = wait;
	<span style='font-weight:bold;color:#D3171B'>}</span>

	<span style='color:#3F7F5F'>//Using java generics create and return a new page. 
</span>	<span style='font-weight:bold;color:#7B0052;'>public</span>  &lt;TPage&gt; TPage GetInstance (Class&lt;TPage&gt; pageClass) <span style='font-weight:bold;color:#D3171B'>{</span>
		<span style='font-weight:bold;color:#7B0052;'>try</span> 
		<span style='font-weight:bold;color:#D3171B'>{</span>
			<span style='font-weight:bold;color:#7B0052;'>return</span> pageClass.getDeclaredConstructor(WebDriver.class, WebDriverWait.class)
			                .newInstance(this.driver, this.wait);
		<span style='font-weight:bold;color:#D3171B'>}</span> 
		<span style='font-weight:bold;color:#7B0052;'>catch</span> (Exception e) 
		<span style='font-weight:bold;color:#D3171B'>{</span>
			System.out.println(e.getMessage());
			<span style='font-weight:bold;color:#7B0052;'>return</span> <span style='font-weight:bold;color:#7B0052;'>null</span>;
		<span style='font-weight:bold;color:#D3171B'>}</span>
	<span style='font-weight:bold;color:#D3171B'>}</span>
<span style='font-weight:bold;color:#D3171B'>}</span></pre>

In the TestSetup class, we create the object of the page class and provide the webdriver & webdriver wait objects as parameters.
<pre class="codeblock2"><span style='font-weight:bold;color:#7B0052;'>public</span> <span style='font-weight:bold;color:#7B0052;'>class</span> TestSetup <span style='font-weight:bold;color:#D3171B'>{</span>
	
	<span style='font-weight:bold;color:#7B0052;'>public</span> WebDriver driver;
	<span style='font-weight:bold;color:#7B0052;'>public</span> WebDriverWait wait;
	<span style='font-weight:bold;color:#7B0052;'>public</span> Page page;
	
	@BeforeClass
	<span style='font-weight:bold;color:#7B0052;'>public</span> <span style='font-weight:bold;color:#7B0052;'>void</span> startTest()
	<span style='font-weight:bold;color:#D3171B'>{</span>
		System.setProperty(<span style='color:#2A00FF'>"webdriver.chrome.driver"</span>, <span style='color:#2A00FF'>"C:\\Users\\Biswajit\\chromedriver.exe"</span>);
		driver= <span style='font-weight:bold;color:#7B0052;'>new</span> ChromeDriver();
		driver.get(<span style='color:#2A00FF'>"http://automationpractice.com/index.php?"</span>);
		driver.manage().window().maximize();
		wait= <span style='font-weight:bold;color:#7B0052;'>new</span> WebDriverWait(driver,30);
		page= <span style='font-weight:bold;color:#7B0052;'>new</span> Page(driver,wait);
	<span style='font-weight:bold;color:#D3171B'>}</span>

	@AfterClass()
	<span style='font-weight:bold;color:#7B0052;'>public</span> <span style='font-weight:bold;color:#7B0052;'>void</span> endTest()
	<span style='font-weight:bold;color:#D3171B'>{</span>
		driver.quit();
	<span style='font-weight:bold;color:#D3171B'>}</span>
<span style='font-weight:bold;color:#D3171B'>}</span></pre>

Then in the TestClass we are calling the GetInstance method by supplying the class name as parameter and fetching the actual pageclass object and then invoking the page methods.
<pre class="codeblock2"><span style='font-weight:bold;color:#7B0052;'>public</span> <span style='font-weight:bold;color:#7B0052;'>class</span> FirstTest <span style='font-weight:bold;color:#7B0052;'>extends</span> TestSetup<span style='font-weight:bold;color:#D3171B'>{</span>

	@Test
	<span style='font-weight:bold;color:#7B0052;'>public</span> <span style='font-weight:bold;color:#7B0052;'>void</span> executeTest()
	<span style='font-weight:bold;color:#D3171B'>{</span>
		page.GetInstance(LoginPage.class).enterUserName(<span style='color:#2A00FF'>"abc@gmail.com"</span>);
		page.GetInstance(LoginPage.class).enterPassword(<span style='color:#2A00FF'>"automation"</span>);
		page.GetInstance(LoginPage.class).clickLogin();
		
		page.GetInstance(HomePage.class).enterSearchItem(<span style='color:#2A00FF'>"dress"</span>);
		page.GetInstance(HomePage.class).clickSearchIcon();
		
	<span style='font-weight:bold;color:#D3171B'>}</span>
<span style='font-weight:bold;color:#D3171B'>}</span></pre>

There are no changes to the page classes though. However here you go

<pre class="codeblock2"><span style='font-weight:bold;color:#7B0052;'>public</span> <span style='font-weight:bold;color:#7B0052;'>class</span> LoginPage<span style='font-weight:bold;color:#D3171B'>{</span>

	<span style='font-weight:bold;color:#7B0052;'>private</span> WebDriver driver;
	<span style='font-weight:bold;color:#7B0052;'>private</span> WebDriverWait wait;
	
	<span style='font-weight:bold;color:#7B0052;'>public</span> LoginPage(WebDriver driver, WebDriverWait wait) <span style='font-weight:bold;color:#D3171B'>{</span>
		this.driver=driver;
		this.wait=wait;
	<span style='font-weight:bold;color:#D3171B'>}</span>
	
	<span style='font-weight:bold;color:#7B0052;'>private</span> By username= By.id(<span style='color:#2A00FF'>"email"</span>);
	<span style='font-weight:bold;color:#7B0052;'>private</span> By password= By.id(<span style='color:#2A00FF'>"passwd"</span>);
	<span style='font-weight:bold;color:#7B0052;'>private</span> By loginbutton= By.id(<span style='color:#2A00FF'>"SubmitLogin"</span>);
	
	
	<span style='color:#3F7F5F'>//Page Actions
</span>	<span style='font-weight:bold;color:#7B0052;'>public</span> <span style='font-weight:bold;color:#7B0052;'>void</span> enterUserName(String text)<span style='font-weight:bold;color:#D3171B'>{</span>
		driver.findElement(username).sendKeys(text);
	<span style='font-weight:bold;color:#D3171B'>}</span>
	
	<span style='font-weight:bold;color:#7B0052;'>public</span> <span style='font-weight:bold;color:#7B0052;'>void</span> enterPassword(String text)<span style='font-weight:bold;color:#D3171B'>{</span>
		driver.findElement(password).sendKeys(text);
	<span style='font-weight:bold;color:#D3171B'>}</span>
	
	<span style='font-weight:bold;color:#7B0052;'>public</span> <span style='font-weight:bold;color:#7B0052;'>void</span> clickLogin()<span style='font-weight:bold;color:#D3171B'>{</span>
		driver.findElement(loginbutton).click();
	<span style='font-weight:bold;color:#D3171B'>}</span>

<span style='font-weight:bold;color:#D3171B'>}</span></pre>


<pre class="codeblock2"><span style='font-weight:bold;color:#7B0052;'>public</span> <span style='font-weight:bold;color:#7B0052;'>class</span> HomePage<span style='font-weight:bold;color:#D3171B'>{</span>

	<span style='font-weight:bold;color:#7B0052;'>private</span> WebDriver driver;
	<span style='font-weight:bold;color:#7B0052;'>private</span> WebDriverWait wait;

	<span style='font-weight:bold;color:#7B0052;'>public</span> HomePage(WebDriver driver, WebDriverWait wait) <span style='font-weight:bold;color:#D3171B'>{</span>
		this.driver=driver;
		this.wait=wait;
	<span style='font-weight:bold;color:#D3171B'>}</span>

	
	<span style='color:#3F7F5F'>//Page Elements
</span>	<span style='font-weight:bold;color:#7B0052;'>private</span> By searchBox= By.id(<span style='color:#2A00FF'>"search_query_top"</span>);
	<span style='font-weight:bold;color:#7B0052;'>private</span> By searchIcon= By.name(<span style='color:#2A00FF'>"submit_search"</span>);


	<span style='color:#3F7F5F'>//Page Actions
</span>	<span style='font-weight:bold;color:#7B0052;'>public</span> <span style='font-weight:bold;color:#7B0052;'>void</span> enterSearchItem(String text)<span style='font-weight:bold;color:#D3171B'>{</span>
		driver.findElement(searchBox).sendKeys(text);
	<span style='font-weight:bold;color:#D3171B'>}</span>

	<span style='font-weight:bold;color:#7B0052;'>public</span> <span style='font-weight:bold;color:#7B0052;'>void</span> clickSearchIcon()<span style='font-weight:bold;color:#D3171B'>{</span>
		driver.findElement(searchIcon).click();
	<span style='font-weight:bold;color:#D3171B'>}</span>
<span style='font-weight:bold;color:#D3171B'>}</span></pre>

Here the benefit is we are not creating page objects in the test script. While reading the code written for the test script it's easy to follow which method is called from which class.

<br><br><h4><font color="#5e98c8">Using BasePage Class</font></h4>
If we want to use the base page class concept in the above design then below are the changes we need to make.

<pre class="codeblock2"><span style='font-weight:bold;color:#7B0052;'>public</span> <span style='font-weight:bold;color:#7B0052;'>class</span> BasePage <span style='font-weight:bold;color:#D3171B'>{</span>

	<span style='font-weight:bold;color:#7B0052;'>private</span> WebDriver driver;
	<span style='font-weight:bold;color:#7B0052;'>private</span> WebDriverWait wait;
	
    <span style='font-weight:bold;color:#7B0052;'>public</span> BasePage(WebDriver driver, WebDriverWait wait) <span style='font-weight:bold;color:#D3171B'>{</span>
    	this.driver=driver;
	this.wait=wait;
    <span style='font-weight:bold;color:#D3171B'>}</span>

    <span style='color:#3F7F5F'>//Click Method
</span>    <span style='font-weight:bold;color:#7B0052;'>public</span> <span style='font-weight:bold;color:#7B0052;'>void</span> click (By eleLoc) <span style='font-weight:bold;color:#D3171B'>{</span>
        driver.findElement(eleLoc).click();
    <span style='font-weight:bold;color:#D3171B'>}</span>

    <span style='color:#3F7F5F'>//Write Text
</span>    <span style='font-weight:bold;color:#7B0052;'>public</span> <span style='font-weight:bold;color:#7B0052;'>void</span> enterText (By eleLoc, String text) <span style='font-weight:bold;color:#D3171B'>{</span>
        driver.findElement(eleLoc).sendKeys(text);
    <span style='font-weight:bold;color:#D3171B'>}</span>

    <span style='color:#3F7F5F'>//Read Text
</span>    <span style='font-weight:bold;color:#7B0052;'>public</span> String getText (By eleLoc) <span style='font-weight:bold;color:#D3171B'>{</span>
        <span style='font-weight:bold;color:#7B0052;'>return</span> driver.findElement(eleLoc).getText();
    <span style='font-weight:bold;color:#D3171B'>}</span>
<span style='font-weight:bold;color:#D3171B'>}</span></pre>


<pre class="codeblock2"><span style='font-weight:bold;color:#7B0052;'>public</span> <span style='font-weight:bold;color:#7B0052;'>class</span> Page <span style='font-weight:bold;color:#D3171B'>{</span>

	<span style='font-weight:bold;color:#7B0052;'>public</span> WebDriver driver;
	<span style='font-weight:bold;color:#7B0052;'>public</span> WebDriverWait wait;

	<span style='color:#3F7F5F'>//Constructor
</span>	<span style='font-weight:bold;color:#7B0052;'>public</span> Page(WebDriver driver, WebDriverWait wait)<span style='font-weight:bold;color:#D3171B'>{</span>
		this.driver = driver;
		this.wait = wait;
	<span style='font-weight:bold;color:#D3171B'>}</span>

	<span style='color:#3F7F5F'>//Using java generics create and return a new page. 
</span>	<span style='font-weight:bold;color:#7B0052;'>public</span>  &lt;TPage <span style='font-weight:bold;color:#7B0052;'>extends</span> BasePage&gt; TPage GetInstance (Class&lt;TPage&gt; pageClass) <span style='font-weight:bold;color:#D3171B'>{</span>
		<span style='font-weight:bold;color:#7B0052;'>try</span> 
		<span style='font-weight:bold;color:#D3171B'>{</span>
			<span style='font-weight:bold;color:#7B0052;'>return</span> pageClass.getDeclaredConstructor(WebDriver.class, WebDriverWait.class)
					        .newInstance(this.driver, this.wait);
		<span style='font-weight:bold;color:#D3171B'>}</span> 
		<span style='font-weight:bold;color:#7B0052;'>catch</span> (Exception e) 
		<span style='font-weight:bold;color:#D3171B'>{</span>
			System.out.println(e.getMessage());
			<span style='font-weight:bold;color:#7B0052;'>return</span> <span style='font-weight:bold;color:#7B0052;'>null</span>;
		<span style='font-weight:bold;color:#D3171B'>}</span>
	<span style='font-weight:bold;color:#D3171B'>}</span>
<span style='font-weight:bold;color:#D3171B'>}</span></pre>


<pre class="codeblock2"><span style='font-weight:bold;color:#7B0052;'>public</span> <span style='font-weight:bold;color:#7B0052;'>class</span> LoginPage <span style='font-weight:bold;color:#7B0052;'>extends</span> BasePage<span style='font-weight:bold;color:#D3171B'>{</span>

	<span style='font-weight:bold;color:#7B0052;'>public</span> LoginPage(WebDriver driver, WebDriverWait wait)<span style='font-weight:bold;color:#D3171B'>{</span>
		<span style='font-weight:bold;color:#7B0052;'>super</span>(driver,wait);
	<span style='font-weight:bold;color:#D3171B'>}</span>
	
	<span style='font-weight:bold;color:#7B0052;'>private</span> By username= By.id(<span style='color:#2A00FF'>"email"</span>);
	<span style='font-weight:bold;color:#7B0052;'>private</span> By password= By.id(<span style='color:#2A00FF'>"passwd"</span>);
	<span style='font-weight:bold;color:#7B0052;'>private</span> By loginbutton= By.id(<span style='color:#2A00FF'>"SubmitLogin"</span>);
	
	
	<span style='color:#3F7F5F'>//Page Actions
</span>	<span style='font-weight:bold;color:#7B0052;'>public</span> <span style='font-weight:bold;color:#7B0052;'>void</span> enterUserName(String text)<span style='font-weight:bold;color:#D3171B'>{</span>
		enterText(username,text);
	<span style='font-weight:bold;color:#D3171B'>}</span>
	
	<span style='font-weight:bold;color:#7B0052;'>public</span> <span style='font-weight:bold;color:#7B0052;'>void</span> enterPassword(String text)<span style='font-weight:bold;color:#D3171B'>{</span>
		enterText(password,text);
	<span style='font-weight:bold;color:#D3171B'>}</span>
	
	<span style='font-weight:bold;color:#7B0052;'>public</span> <span style='font-weight:bold;color:#7B0052;'>void</span> clickLogin()<span style='font-weight:bold;color:#D3171B'>{</span>
		click(loginbutton);
	<span style='font-weight:bold;color:#D3171B'>}</span>

<span style='font-weight:bold;color:#D3171B'>}</span></pre>

There's no change to the TestSetup class and also we need to modify the HomePage class similar to the LoginPage class.

<br><br><button  class="btn btn-primary" onclick="openTopic(event, 'selFactory')"><- Prev</button>  
<button  class="btn btn-success" onclick="openTopic(event, 'loadpat')">Next -></button>  
<br><br>

</div>

<!------------------------------------------------------------------------ End of pom with generics topic  ----------------------------------------------------->

<div id="loadpat" class="topics">
<br><br><h2>POM with Loadable Component</h2><hr>
The loadable component in Page Object Model pattern ensures that the page/component is loaded successfully.

<br><br><h4><font color="#5e98c8">How Loadable Component Works</font></h4>
<ul style="list-style-position: inside;padding-left: 0;"><li>The PageClass needs to extend LoadableComponent class.
<pre class="codeblock2"><span style='font-weight:bold;color:#7B0052;'>public</span> <span style='font-weight:bold;color:#7B0052;'>class</span> LoginPage <span style='font-weight:bold;color:#7B0052;'>extends</span> LoadableComponent&lt;LoginPage&gt;</pre>

</li><li>LoadableComponent is an abstract class and has three methods - get(), load(), isLoaded(). 

</li><li>The get method has the implementation as below. Basically it calls the isLoaded() method first. If there's no error then it returns the class/subclass else it calls the load() method and then one more time isLoaded() method.
<pre class="codeblock2"><span style='font-weight:bold;color:#7B0052;'>public</span> T get() 
<span style='font-weight:bold;color:#D3171B'>{</span>
    <span style='font-weight:bold;color:#7B0052;'>try</span> 
    <span style='font-weight:bold;color:#D3171B'>{</span>
      isLoaded();
      <span style='font-weight:bold;color:#7B0052;'>return</span> (T) <span style='font-weight:bold;color:#7B0052;'>this</span>;
    <span style='font-weight:bold;color:#D3171B'>}</span> 
    <span style='font-weight:bold;color:#7B0052;'>catch</span> (Error e) 
    <span style='font-weight:bold;color:#D3171B'>{</span>
      load();
    <span style='font-weight:bold;color:#D3171B'>}</span>
    
    isLoaded();
    <span style='font-weight:bold;color:#7B0052;'>return</span> (T) <span style='font-weight:bold;color:#7B0052;'>this</span>;
<span style='font-weight:bold;color:#D3171B'>}</span></pre>

</li><li>The other two load() and isLoaded() are abstract methods and don't have the implementations, so those need to be implemented in the class that extends Loadable component class.
So here we have complete liberty what code to include in these two methods.

</li><li> Based on the application page design, speed of the rendering we need to write codes for load() and isLoaded method. A simple example can be like below. 
<pre class="codeblock2">@Override
<span style='font-weight:bold;color:#7B0052;'>protected</span> <span style='font-weight:bold;color:#7B0052;'>void</span> load() 
<span style='font-weight:bold;color:#D3171B'>{</span>
 driver.get(<span style='color:#2A00FF'>"http://automationpractice.com/index.phpcontroller=authentication&back=my-account"</span>);
 System.out.println(<span style='color:#2A00FF'>"url opened"</span>);		
<span style='font-weight:bold;color:#D3171B'>}</span>

@Override
<span style='font-weight:bold;color:#7B0052;'>protected</span> <span style='font-weight:bold;color:#7B0052;'>void</span> isLoaded() <span style='font-weight:bold;color:#7B0052;'>throws</span> Error 
<span style='font-weight:bold;color:#D3171B'>{</span>
 String url = driver.getCurrentUrl();
 Assert.assertEquals(true, url.endsWith(<span style='color:#2A00FF'>"my-account"</span>));		
<span style='font-weight:bold;color:#D3171B'>}</span></pre>

</li><li>So in the testclass when the get() method will be called. First it will invoke the isLoaded() method and check if the url contains the page name. If not then it will throw an error
and in the get() method, in case of error it will go to load() method, so it will load the url again and then again check if the url contains the page name. 

</li><li>We can add wait conditions in isLoaded() method and customize it as per our need. We may use ExpectedConditions.urlContains(), ExpectedConditions.urlToBe(), ExpectedConditions.titleContains(), ExpectedConditions.titleIs() etc.
We can also wait for a particular element on the page something like page heading, menu item etc.
</li></ul>


<br><h4><font color="#5e98c8">Real time Scenario</font></h4>

<ul style="list-style-position: inside;padding-left: 0;"><li>The load() method loads the url. Here the catch is, not all websites are structured by pages. So if the url remains same across pages and we load it again in some page then we might go back to previous page. Also the websites designed with webservices/API calls/Data fetch calls might break if we reload the same url. So I have seen in many frameworks this method is left blank.
</li><li>Let's say we are working on an e-commerce application. On home page, when we search for an item like dress/t-shirt etc and click on search button then the search item gets added to the url. If we use the url in the load method then we will have to pass the search string from testcase and pass on to the page constructor and then use it in the load method.
<pre class="codeblock2"><span style='font-weight:bold;color:#7B0052;'>private</span> WebDriver driver;
<span style='font-weight:bold;color:#7B0052;'>private</span> String searchItem;

<span style='font-weight:bold;color:#7B0052;'>public</span> SearchPage(WebDriver driver, String searchItem)
<span style='font-weight:bold;color:#D3171B'>{</span>
   this.driver=driver;
   this.searchItem=searchItem;
<span style='font-weight:bold;color:#D3171B'>}</span>


@Override
<span style='font-weight:bold;color:#7B0052;'>protected</span> <span style='font-weight:bold;color:#7B0052;'>void</span> load() 
<span style='font-weight:bold;color:#D3171B'>{</span>
   driver.get(<span style='color:#2A00FF'>"http://automationpractice.com/index.php?
   controller=search&orderby=position&orderway=desc&search_query="</span>+searchItem+<span style='color:#2A00FF'>"&submit_search="</span>);
<span style='font-weight:bold;color:#D3171B'>}</span>
	
@Override
<span style='font-weight:bold;color:#7B0052;'>protected</span> <span style='font-weight:bold;color:#7B0052;'>void</span> isLoaded() <span style='font-weight:bold;color:#7B0052;'>throws</span> Error <span style='font-weight:bold;color:#D3171B'>{</span>
String title = driver.getTitle();
Assert.assertEquals(title, <span style='color:#2A00FF'>"Search - My Store"</span>);
<span style='font-weight:bold;color:#D3171B'>}</span></pre>
</li></ul>


<br><h4><font color="#5e98c8">Customizing LoadableComponent</font></h4>
<ul style="list-style-position: inside;padding-left: 0;"><li>We can customize the LoadableComponent class and can modify the methods to fit in our framework. Let's see an example below.
<pre class="codeblock2"><span style='font-weight:bold;color:#7B0052;'>public</span> <span style='font-weight:bold;color:#7B0052;'>abstract</span> <span style='font-weight:bold;color:#7B0052;'>class</span> CustomLoadableComponent&lt;T <span style='font-weight:bold;color:#7B0052;'>extends</span> CustomLoadableComponent&lt;T&gt;&gt; <span style='font-weight:bold;color:#D3171B'>{</span>

<span style='font-weight:bold;color:#7B0052;'>private</span> WebDriverWait wait = <span style='font-weight:bold;color:#7B0052;'>null</span>;
<span style='font-weight:bold;color:#7B0052;'>private</span> <span style='font-weight:bold;color:#7B0052;'>static</span> <span style='font-weight:bold;color:#7B0052;'>final</span> <span style='font-weight:bold;color:#7B0052;'>int</span> LOAD_TIMEOUT=30;
	
@SuppressWarnings(<span style='color:#2A00FF'>"unchecked"</span>)
<span style='font-weight:bold;color:#7B0052;'>public</span> T get() <span style='font-weight:bold;color:#D3171B'>{</span>
   <span style='font-weight:bold;color:#7B0052;'>try</span> 
   <span style='font-weight:bold;color:#D3171B'>{</span>
      isLoaded();
      <span style='font-weight:bold;color:#7B0052;'>return</span> (T) <span style='font-weight:bold;color:#7B0052;'>this</span>;
   <span style='font-weight:bold;color:#D3171B'>}</span> 
   <span style='font-weight:bold;color:#7B0052;'>catch</span> (Error e) 
   <span style='font-weight:bold;color:#D3171B'>{</span>
      System.out.println(e.getMessage());	
      load();
   <span style='font-weight:bold;color:#D3171B'>}</span>

    isLoaded();
    <span style='font-weight:bold;color:#7B0052;'>return</span> (T) <span style='font-weight:bold;color:#7B0052;'>this</span>;	  
<span style='font-weight:bold;color:#D3171B'>}</span>

<span style='font-weight:bold;color:#7B0052;'>public</span> <span style='font-weight:bold;color:#7B0052;'>boolean</span> isElementLoaded(WebDriver driver,By locPath)
<span style='font-weight:bold;color:#D3171B'>{</span>
 wait= <span style='font-weight:bold;color:#7B0052;'>new</span> WebDriverWait(driver,LOAD_TIMEOUT);		 
 wait.until(ExpectedConditions.visibilityOfElementLocated(locPath));
		
 WebElement ele = driver.findElement(locPath);
 <span style='font-weight:bold;color:#7B0052;'>if</span>(ele.isDisplayed())
   <span style='font-weight:bold;color:#7B0052;'>return</span> <span style='font-weight:bold;color:#7B0052;'>true</span>;
 <span style='font-weight:bold;color:#7B0052;'>else</span>
    <span style='font-weight:bold;color:#7B0052;'>return</span> <span style='font-weight:bold;color:#7B0052;'>false</span>;	  
<span style='font-weight:bold;color:#D3171B'>}</span>

<span style='font-weight:bold;color:#7B0052;'>protected</span> <span style='font-weight:bold;color:#7B0052;'>abstract</span> <span style='font-weight:bold;color:#7B0052;'>void</span> load();
<span style='font-weight:bold;color:#7B0052;'>protected</span> <span style='font-weight:bold;color:#7B0052;'>abstract</span> <span style='font-weight:bold;color:#7B0052;'>void</span> isLoaded() <span style='font-weight:bold;color:#7B0052;'>throws</span> Error;

<span style='font-weight:bold;color:#D3171B'>}</span></pre>

Then in our page class we can use this way

<pre class="codeblock2"><span style='font-weight:bold;color:#7B0052;'>public</span> <span style='font-weight:bold;color:#7B0052;'>class</span> LoginPage <span style='font-weight:bold;color:#7B0052;'>extends</span> CustomLoadableComponent&lt;LoginPage&gt;
<span style='font-weight:bold;color:#D3171B'>{</span>	
	<span style='font-weight:bold;color:#7B0052;'>private</span> WebDriver driver;
	
	<span style='font-weight:bold;color:#7B0052;'>public</span> LoginPage(WebDriver driver)<span style='font-weight:bold;color:#D3171B'>{</span>
		this.driver=driver;
	<span style='font-weight:bold;color:#D3171B'>}</span>
	
	<span style='color:#3F7F5F'>//Page Elements
</span>	<span style='font-weight:bold;color:#7B0052;'>private</span> By pageHeading= By.xpath(<span style='color:#2A00FF'>"//h1[@class='page-heading' and text()='Authentication']"</span>);
	<span style='font-weight:bold;color:#7B0052;'>private</span> By username= By.id(<span style='color:#2A00FF'>"email"</span>);
	<span style='font-weight:bold;color:#7B0052;'>private</span> By password= By.id(<span style='color:#2A00FF'>"passwd"</span>);
	<span style='font-weight:bold;color:#7B0052;'>private</span> By loginbutton= By.id(<span style='color:#2A00FF'>"SubmitLogin"</span>);
	
	<span style='color:#3F7F5F'>//Page Actions
</span>	<span style='font-weight:bold;color:#7B0052;'>public</span> <span style='font-weight:bold;color:#7B0052;'>void</span> enterUserName(String text)
	<span style='font-weight:bold;color:#D3171B'>{</span>
		driver.findElement(username).sendKeys(text);
	<span style='font-weight:bold;color:#D3171B'>}</span>
	
	<span style='font-weight:bold;color:#7B0052;'>public</span> <span style='font-weight:bold;color:#7B0052;'>void</span> enterPassword(String text)
	<span style='font-weight:bold;color:#D3171B'>{</span>
		driver.findElement(password).sendKeys(text);
	<span style='font-weight:bold;color:#D3171B'>}</span>
	
	<span style='font-weight:bold;color:#7B0052;'>public</span> <span style='font-weight:bold;color:#7B0052;'>void</span> clickLogin()
	<span style='font-weight:bold;color:#D3171B'>{</span>
		driver.findElement(loginbutton).click();
	<span style='font-weight:bold;color:#D3171B'>}</span>

	@Override
	<span style='font-weight:bold;color:#7B0052;'>protected</span> <span style='font-weight:bold;color:#7B0052;'>void</span> load() <span style='font-weight:bold;color:#D3171B'>{</span>
	driver.get(<span style='color:#2A00FF'>"http://automationpractice.com/index.php?controller=authentication&back=my-account"</span>);
	<span style='font-weight:bold;color:#D3171B'>}</span>

	@Override
	<span style='font-weight:bold;color:#7B0052;'>protected</span> <span style='font-weight:bold;color:#7B0052;'>void</span> isLoaded() <span style='font-weight:bold;color:#7B0052;'>throws</span> Error <span style='font-weight:bold;color:#D3171B'>{</span>
		<span style='font-weight:bold;color:#7B0052;'>if</span>(!isElementLoaded(driver,pageHeading))
		<span style='font-weight:bold;color:#7B0052;'>throw</span> <span style='font-weight:bold;color:#7B0052;'>new</span> Error(<span style='color:#2A00FF'>"Page is not loaded"</span>);	
	<span style='font-weight:bold;color:#D3171B'>}</span>	
<span style='font-weight:bold;color:#D3171B'>}</span></pre>

</li></ul>


<br><h4><font color="#5e98c8">Advantages</font></h4>
The benefit of using the loadable component design pattern is, it ensures the page is loaded as expected when the page is called. If the page is not loaded, then it reloads the page url so incase of any connection errors or loading issues are resolved.

<br><br><h4><font color="#5e98c8">Disadvantages</font></h4>
The page loading is dependent a specific check and it creates few limitations. 
<ul style="list-style-position: inside;padding-left: 0;"><li>We can't say if that is satisfied then all our elements are loaded.
</li><li>If we would like to use the page under some other condition then it won't be possible.
</li><li>If the html page has different loadable sections as branches, then creating separate page class won't be effective and also using this pattern won't help because everytime we would need pageloading check differently.
</li><li>Mostly the navigation between pages happen via page controls like when login button is clicked then the home page is loaded. So the load() method used for loading a direct url might not be ideal.
</li></ul>  


<br><h4><font color="#5e98c8">References</font></h4>
<a href="https://confengine.com/selenium-conf-2016/proposal/2340/better-page-object-handling-with-loadable-component-pattern" target="_blank">https://confengine.com/selenium-conf-2016/proposal/2340</a>
<br><a href="https://github.com/SeleniumHQ/selenium/wiki/LoadableComponent" target="blank">https://github.com/SeleniumHQ/selenium/wiki/LoadableComponent</a>

<br><br><button  class="btn btn-primary" onclick="openTopic(event, 'pomGenerics')"><- Prev</button>  
<button  class="btn btn-success" onclick="openTopic(event, 'fluidPat')">Next -></button>  
<br><br>

</div> <!-- End of loadpat topic -->

<!----------------------------------------------------- End of loadable pattern topic  ------------------------------------------------------------------------->

<div id="fluidPat" class="topics">
<br><br><h2>POM with Fluent Design Pattern</h2><hr>
The fluent design pattern is implemented by method chaining. In this design each method returns <font color="blue">this</font> (self). The benefit of this design is 
domain specific language. It increases the readability of the business logic. 


<br><br><h4><font color="#5e98c8">Java Example</font></h4>
<pre class="codeblock2"><span style='font-weight:bold;color:#7B0052;'>class</span> Customer
<span style='font-weight:bold;color:#D3171B'>{</span>
	String fname,lname,sex,country;

	<span style='font-weight:bold;color:#7B0052;'>public</span> Customer FirstName(String firstName)<span style='font-weight:bold;color:#D3171B'>{</span>
		fname=firstName;
		<span style='font-weight:bold;color:#7B0052;'>return</span> <span style='font-weight:bold;color:#7B0052;'>this</span>;
	<span style='font-weight:bold;color:#D3171B'>}</span>

	<span style='font-weight:bold;color:#7B0052;'>public</span> Customer LastName(String lastName)<span style='font-weight:bold;color:#D3171B'>{</span>
		lname=lastName;
		<span style='font-weight:bold;color:#7B0052;'>return</span> <span style='font-weight:bold;color:#7B0052;'>this</span>;
	<span style='font-weight:bold;color:#D3171B'>}</span>

	<span style='font-weight:bold;color:#7B0052;'>public</span> Customer Sex(String gender)<span style='font-weight:bold;color:#D3171B'>{</span>
		sex=gender;
		<span style='font-weight:bold;color:#7B0052;'>return</span> <span style='font-weight:bold;color:#7B0052;'>this</span>;
	<span style='font-weight:bold;color:#D3171B'>}</span>

	<span style='font-weight:bold;color:#7B0052;'>public</span> Customer Country(String ctry)<span style='font-weight:bold;color:#D3171B'>{</span>
		country=ctry;
		<span style='font-weight:bold;color:#7B0052;'>return</span> <span style='font-weight:bold;color:#7B0052;'>this</span>;
	<span style='font-weight:bold;color:#D3171B'>}</span>

	<span style='font-weight:bold;color:#7B0052;'>public</span> <span style='font-weight:bold;color:#7B0052;'>void</span> display()<span style='font-weight:bold;color:#D3171B'>{</span>
		System.out.println(<span style='color:#2A00FF'>"Name: "</span>+fname + <span style='color:#2A00FF'>" "</span> +lname );
		System.out.println(<span style='color:#2A00FF'>"Sex: "</span>+sex);
		System.out.println(<span style='color:#2A00FF'>"Country: "</span>+country);
	<span style='font-weight:bold;color:#D3171B'>}</span>
<span style='font-weight:bold;color:#D3171B'>}</span>


<span style='font-weight:bold;color:#7B0052;'>public</span> <span style='font-weight:bold;color:#7B0052;'>class</span> FluentDesignPattern <span style='font-weight:bold;color:#D3171B'>{</span>

	<span style='font-weight:bold;color:#7B0052;'>public</span> <span style='font-weight:bold;color:#7B0052;'>static</span> <span style='font-weight:bold;color:#7B0052;'>void</span> main(String[] args) <span style='font-weight:bold;color:#D3171B'>{</span>

		Customer c1= <span style='font-weight:bold;color:#7B0052;'>new</span> Customer();
		c1.FirstName(<span style='color:#2A00FF'>"Jack"</span>).LastName(<span style='color:#2A00FF'>"Dowson"</span>).Sex(<span style='color:#2A00FF'>"Male"</span>).Country(<span style='color:#2A00FF'>"USA"</span>).display();

		Customer c2= <span style='font-weight:bold;color:#7B0052;'>new</span> Customer();
		c1.FirstName(<span style='color:#2A00FF'>"Rose"</span>).LastName(<span style='color:#2A00FF'>"Buketer"</span>).Sex(<span style='color:#2A00FF'>"Female"</span>).Country(<span style='color:#2A00FF'>"FRANCE"</span>).display();
	<span style='font-weight:bold;color:#D3171B'>}</span>
<span style='font-weight:bold;color:#D3171B'>}</span></pre>


<br><br><h4><font color="#5e98c8">Selenium Example</font></h4>
The selenium page object model along with fluent design pattern works like a charm. Here are some basic rules we need to follow.
<ul><li>Page class methods should have <font color="blue">pagename</font> as the return type, and method inside should have <font color="blue">return this;</font>
</li><li>The method from which it navigates to the next page, should have the return type of the page that it's routing to. For example, the click_login() method in the Login page should have return type as HomePage
because once the method is executed then we will have to call the home page methods.
</li><li>This approach makes the test script so clear that one can understand how the test flow goes.
</li><li>If there's any method fails and returns null then the chain is broken so we can figure out easily from where the test flow is breaking.
</li><li>If there are multiple routing available from a particular page, then we need to implement it that way. 
For example, from the login page if the successful login takes it to home page and unsuccessful login takes to error page then we will have to design the two pages, two click_login methods to route to these pages.
</li><li>The only disadvantage of this approach is that, the test designer should know which method returns which page else the flow will be messed up.
</li></ul>

<pre class="codeblock2"><span style='font-weight:bold;color:#7B0052;'>public</span> <span style='font-weight:bold;color:#7B0052;'>class</span> LoginPage<span style='font-weight:bold;color:#D3171B'>{</span>

	<span style='font-weight:bold;color:#7B0052;'>private</span> WebDriver driver;
	
	<span style='font-weight:bold;color:#7B0052;'>public</span> LoginPage(WebDriver driver)<span style='font-weight:bold;color:#D3171B'>{</span>
		this.driver=driver;
		PageFactory.initElements(driver, <span style='font-weight:bold;color:#7B0052;'>this</span>);
	<span style='font-weight:bold;color:#D3171B'>}</span>
	
	<span style='color:#3F7F5F'>//Page Elements
</span>	@FindBy(how = How.ID, using = <span style='color:#2A00FF'>"email"</span>)
	<span style='font-weight:bold;color:#7B0052;'>private</span> WebElement username;

	@FindBy(how = How.ID, using = <span style='color:#2A00FF'>"passwd"</span>)
	<span style='font-weight:bold;color:#7B0052;'>private</span> WebElement password;

	@FindBy(how = How.ID, using = <span style='color:#2A00FF'>"SubmitLogin"</span>)
	<span style='font-weight:bold;color:#7B0052;'>private</span> WebElement loginbutton;

	
	<span style='color:#3F7F5F'>//Page Actions
</span>	<span style='font-weight:bold;color:#7B0052;'>public</span> LoginPage enterUserName(String text)<span style='font-weight:bold;color:#D3171B'>{</span>
		username.sendKeys(text);
		<span style='font-weight:bold;color:#7B0052;'>return</span> <span style='font-weight:bold;color:#7B0052;'>this</span>;
	<span style='font-weight:bold;color:#D3171B'>}</span>

	<span style='font-weight:bold;color:#7B0052;'>public</span> LoginPage enterPassword(String text)<span style='font-weight:bold;color:#D3171B'>{</span>
		password.sendKeys(text);
		<span style='font-weight:bold;color:#7B0052;'>return</span> <span style='font-weight:bold;color:#7B0052;'>this</span>;
	<span style='font-weight:bold;color:#D3171B'>}</span>

	<span style='font-weight:bold;color:#7B0052;'>public</span> HomePage clickLogin()<span style='font-weight:bold;color:#D3171B'>{</span>
		loginbutton.click();
		<span style='font-weight:bold;color:#7B0052;'>return</span> <span style='font-weight:bold;color:#7B0052;'>new</span> HomePage(driver);
	<span style='font-weight:bold;color:#D3171B'>}</span>
<span style='font-weight:bold;color:#D3171B'>}</span></pre>


<pre class="codeblock2"><span style='font-weight:bold;color:#7B0052;'>public</span> <span style='font-weight:bold;color:#7B0052;'>class</span> HomePage<span style='font-weight:bold;color:#D3171B'>{</span>

	<span style='font-weight:bold;color:#7B0052;'>private</span> WebDriver driver;

	<span style='font-weight:bold;color:#7B0052;'>public</span> HomePage(WebDriver driver)<span style='font-weight:bold;color:#D3171B'>{</span>
		this.driver=driver;
		PageFactory.initElements(driver, <span style='font-weight:bold;color:#7B0052;'>this</span>);
	<span style='font-weight:bold;color:#D3171B'>}</span>

	
	<span style='color:#3F7F5F'>//Page Elements
</span>	@FindBy(id= <span style='color:#2A00FF'>"search_query_top"</span>)
	<span style='font-weight:bold;color:#7B0052;'>private</span> WebElement searchBox;

	@FindBy(name= <span style='color:#2A00FF'>"submit_search"</span>)
	<span style='font-weight:bold;color:#7B0052;'>private</span> WebElement searchIcon;


	<span style='color:#3F7F5F'>//Page Actions
</span>	<span style='font-weight:bold;color:#7B0052;'>public</span> HomePage enterSearchItem(String text)<span style='font-weight:bold;color:#D3171B'>{</span>
		searchBox.sendKeys(text);
		<span style='font-weight:bold;color:#7B0052;'>return</span> <span style='font-weight:bold;color:#7B0052;'>this</span>;
	<span style='font-weight:bold;color:#D3171B'>}</span>

	<span style='font-weight:bold;color:#7B0052;'>public</span> SearchPage clickSearchIcon()<span style='font-weight:bold;color:#D3171B'>{</span>
		searchIcon.click();
		<span style='font-weight:bold;color:#7B0052;'>return</span> <span style='font-weight:bold;color:#7B0052;'>new</span> SearchPage(driver);
	<span style='font-weight:bold;color:#D3171B'>}</span>

<span style='font-weight:bold;color:#D3171B'>}</span></pre>


<pre class="codeblock2"><span style='font-weight:bold;color:#7B0052;'>public</span> <span style='font-weight:bold;color:#7B0052;'>class</span> SearchPage<span style='font-weight:bold;color:#D3171B'>{</span>

	<span style='font-weight:bold;color:#7B0052;'>private</span> WebDriver driver;

	<span style='font-weight:bold;color:#7B0052;'>public</span> SearchPage(WebDriver driver)<span style='font-weight:bold;color:#D3171B'>{</span>
		this.driver=driver;
		PageFactory.initElements(driver, <span style='font-weight:bold;color:#7B0052;'>this</span>);
	<span style='font-weight:bold;color:#D3171B'>}</span>

	@FindBy(how=How.XPATH, using=<span style='color:#2A00FF'>"//span[@class='navigation_page' and text()='Search']"</span>)
	<span style='font-weight:bold;color:#7B0052;'>private</span> WebElement sectionHeading;
	
	<span style='font-weight:bold;color:#7B0052;'>public</span> <span style='font-weight:bold;color:#7B0052;'>void</span> searchPageDisplayed()<span style='font-weight:bold;color:#D3171B'>{</span>
		
		<span style='font-weight:bold;color:#7B0052;'>if</span>(sectionHeading.isDisplayed())<span style='font-weight:bold;color:#D3171B'>{</span>
			System.out.println(<span style='color:#2A00FF'>"Search Page is successfully displayed"</span>);
		<span style='font-weight:bold;color:#D3171B'>}</span>
	<span style='font-weight:bold;color:#D3171B'>}</span>
	
<span style='font-weight:bold;color:#D3171B'>}</span></pre>

<pre class="codeblock2"><span style='font-weight:bold;color:#7B0052;'>public</span> <span style='font-weight:bold;color:#7B0052;'>class</span> FirstTest <span style='font-weight:bold;color:#7B0052;'>extends</span> TestSetup<span style='font-weight:bold;color:#D3171B'>{</span>

	@Test
	<span style='font-weight:bold;color:#7B0052;'>public</span> <span style='font-weight:bold;color:#7B0052;'>void</span> executeTest()
	<span style='font-weight:bold;color:#D3171B'>{</span>
		<span style='font-weight:bold;color:#7B0052;'>new</span> LoginPage(driver)
		    .enterUserName(<span style='color:#2A00FF'>"abc@gmail.com"</span>)
		    .enterPassword(<span style='color:#2A00FF'>"automation"</span>)
		    .clickLogin()
		    .enterSearchItem(<span style='color:#2A00FF'>"dress"</span>)
		    .clickSearchIcon()
		    .searchPageDisplayed();
	<span style='font-weight:bold;color:#D3171B'>}</span>
<span style='font-weight:bold;color:#D3171B'>}</span></pre>

<br><button  class="btn btn-primary" onclick="openTopic(event, 'loadpat')"><- Prev</button>  
<button  class="btn btn-success" onclick="openTopic(event, 'woutFactory')">Next -></button>  
<br><br>

</div>

<!-------------------------------------------------------- End of Fluent Design Pattern ------------------------------------------------------------------------>

<div id="woutFactory" class="topics">
<br><br><h2>POM without Page Factory</h2><hr>
The Page Object Model can be implemented without page factory also. Here we have also created another class PageObjectManager to manage the page objects.

<br><br><pre class="codeblock2">public</span> <span style='font-weight:bold;color:#7B0052;'>class</span> PageObjectManager <span style='font-weight:bold;color:#D3171B'>{</span>

	<span style='font-weight:bold;color:#7B0052;'>private</span> WebDriver driver;
	<span style='font-weight:bold;color:#7B0052;'>private</span> WebDriverWait wait;

	LoginPage loginpage;
	HomePage homepage;
	SearchPage searchpage;
	
	<span style='font-weight:bold;color:#7B0052;'>public</span> PageObjectManager(WebDriver driver, WebDriverWait wait) <span style='font-weight:bold;color:#D3171B'>{</span>
		this.driver=driver;
		this.wait=wait;
	<span style='font-weight:bold;color:#D3171B'>}</span>
	
	<span style='font-weight:bold;color:#7B0052;'>public</span> LoginPage getLoginPage()<span style='font-weight:bold;color:#D3171B'>{</span>
		<span style='font-weight:bold;color:#7B0052;'>return</span> (loginpage == <span style='font-weight:bold;color:#7B0052;'>null</span>) ? loginpage = <span style='font-weight:bold;color:#7B0052;'>new</span> LoginPage(driver,wait) : loginpage;
	<span style='font-weight:bold;color:#D3171B'>}</span>
	
	<span style='font-weight:bold;color:#7B0052;'>public</span> HomePage getHomePage()<span style='font-weight:bold;color:#D3171B'>{</span>
		<span style='font-weight:bold;color:#7B0052;'>return</span> (homepage == <span style='font-weight:bold;color:#7B0052;'>null</span>) ? homepage = <span style='font-weight:bold;color:#7B0052;'>new</span> HomePage(driver,wait) : homepage;
	<span style='font-weight:bold;color:#D3171B'>}</span>
	
	<span style='font-weight:bold;color:#7B0052;'>public</span> SearchPage getSearchPage()<span style='font-weight:bold;color:#D3171B'>{</span>
		<span style='font-weight:bold;color:#7B0052;'>return</span> (searchpage == <span style='font-weight:bold;color:#7B0052;'>null</span>) ? searchpage = <span style='font-weight:bold;color:#7B0052;'>new</span> SearchPage(driver,wait) : searchpage;
	<span style='font-weight:bold;color:#D3171B'>}</span>
<span style='font-weight:bold;color:#D3171B'>}</span></pre>


<pre class="codeblock2"><span style='font-weight:bold;color:#7B0052;'>public</span> <span style='font-weight:bold;color:#7B0052;'>class</span> TestSetup <span style='font-weight:bold;color:#D3171B'>{</span>
	
	<span style='font-weight:bold;color:#7B0052;'>public</span> WebDriver driver;
	<span style='font-weight:bold;color:#7B0052;'>public</span> WebDriverWait wait;
	<span style='font-weight:bold;color:#7B0052;'>public</span> PageObjectManager pagemanager;
	
	@BeforeClass
	<span style='font-weight:bold;color:#7B0052;'>public</span> <span style='font-weight:bold;color:#7B0052;'>void</span> startTest()
	<span style='font-weight:bold;color:#D3171B'>{</span>
		System.setProperty(<span style='color:#2A00FF'>"webdriver.chrome.driver"</span>, <span style='color:#2A00FF'>"C:\\Users\\chromedriver.exe"</span>);
		driver= <span style='font-weight:bold;color:#7B0052;'>new</span> ChromeDriver();
		driver.get(<span style='color:#2A00FF'>"http://automationpractice.com/index.php?"</span>);
		driver.manage().window().maximize();
		
		wait= <span style='font-weight:bold;color:#7B0052;'>new</span> WebDriverWait(driver,30);
		pagemanager= <span style='font-weight:bold;color:#7B0052;'>new</span> PageObjectManager(driver,wait);
	<span style='font-weight:bold;color:#D3171B'>}</span>

	@AfterClass()
	<span style='font-weight:bold;color:#7B0052;'>public</span> <span style='font-weight:bold;color:#7B0052;'>void</span> endTest()
	<span style='font-weight:bold;color:#D3171B'>{</span>
		driver.quit();
	<span style='font-weight:bold;color:#D3171B'>}</span>
<span style='font-weight:bold;color:#D3171B'>}</span></pre>


<pre class="codeblock2"><span style='font-weight:bold;color:#7B0052;'>public</span> <span style='font-weight:bold;color:#7B0052;'>class</span> BasePage <span style='font-weight:bold;color:#D3171B'>{</span>

	<span style='font-weight:bold;color:#7B0052;'>private</span> WebDriver driver;
	<span style='font-weight:bold;color:#7B0052;'>private</span> WebDriverWait wait;

	<span style='font-weight:bold;color:#7B0052;'>public</span> BasePage(WebDriver driver, WebDriverWait wait) <span style='font-weight:bold;color:#D3171B'>{</span>
		this.driver=driver;
		this.wait=wait;
	<span style='font-weight:bold;color:#D3171B'>}</span>

	<span style='color:#3F7F5F'>//Click Method
</span>	<span style='font-weight:bold;color:#7B0052;'>public</span> <span style='font-weight:bold;color:#7B0052;'>void</span> click (By eleLoc) <span style='font-weight:bold;color:#D3171B'>{</span>
		wait.until(ExpectedConditions.elementToBeClickable(eleLoc));
		driver.findElement(eleLoc).click();
	<span style='font-weight:bold;color:#D3171B'>}</span>

	<span style='color:#3F7F5F'>//Write Text
</span>	<span style='font-weight:bold;color:#7B0052;'>public</span> <span style='font-weight:bold;color:#7B0052;'>void</span> enterText (By eleLoc, String text) <span style='font-weight:bold;color:#D3171B'>{</span>
		wait.until(ExpectedConditions.elementToBeClickable(eleLoc));
		driver.findElement(eleLoc).sendKeys(text);
	<span style='font-weight:bold;color:#D3171B'>}</span>

	<span style='color:#3F7F5F'>//Read Text
</span>	<span style='font-weight:bold;color:#7B0052;'>public</span> String getText (By eleLoc) <span style='font-weight:bold;color:#D3171B'>{</span>
		wait.until(ExpectedConditions.visibilityOfElementLocated(eleLoc));
		<span style='font-weight:bold;color:#7B0052;'>return</span> driver.findElement(eleLoc).getText();
	<span style='font-weight:bold;color:#D3171B'>}</span>

	<span style='color:#3F7F5F'>//Element Displayed
</span>	<span style='font-weight:bold;color:#7B0052;'>public</span> <span style='font-weight:bold;color:#7B0052;'>boolean</span> isDisplayed(By eleLoc) <span style='font-weight:bold;color:#D3171B'>{</span>
		wait.until(ExpectedConditions.visibilityOfElementLocated(eleLoc));
		<span style='font-weight:bold;color:#7B0052;'>if</span>(driver.findElement(eleLoc).isDisplayed())
		<span style='font-weight:bold;color:#7B0052;'>return</span> <span style='font-weight:bold;color:#7B0052;'>true</span>;
		<span style='font-weight:bold;color:#7B0052;'>else</span> <span style='font-weight:bold;color:#7B0052;'>return</span> <span style='font-weight:bold;color:#7B0052;'>false</span>;
	<span style='font-weight:bold;color:#D3171B'>}</span>
	
<span style='font-weight:bold;color:#D3171B'>}</span></pre>


<pre class="codeblock2">public</span> <span style='font-weight:bold;color:#7B0052;'>class</span> LoginPage <span style='font-weight:bold;color:#7B0052;'>extends</span> BasePage<span style='font-weight:bold;color:#D3171B'>{</span>

	<span style='font-weight:bold;color:#7B0052;'>public</span> LoginPage(WebDriver driver, WebDriverWait wait) <span style='font-weight:bold;color:#D3171B'>{</span>
		<span style='font-weight:bold;color:#7B0052;'>super</span>(driver,wait);
	<span style='font-weight:bold;color:#D3171B'>}</span>

	<span style='color:#3F7F5F'>//Page Elements
</span>	<span style='font-weight:bold;color:#7B0052;'>private</span> By username= By.id(<span style='color:#2A00FF'>"email"</span>);
	<span style='font-weight:bold;color:#7B0052;'>private</span> By password= By.id(<span style='color:#2A00FF'>"passwd"</span>);
	<span style='font-weight:bold;color:#7B0052;'>private</span> By loginbutton= By.id(<span style='color:#2A00FF'>"SubmitLogin"</span>);


	<span style='color:#3F7F5F'>//Page Actions
</span>	<span style='font-weight:bold;color:#7B0052;'>public</span> <span style='font-weight:bold;color:#7B0052;'>void</span> enterUserName(String text)<span style='font-weight:bold;color:#D3171B'>{</span>
		enterText(username,text);
	<span style='font-weight:bold;color:#D3171B'>}</span>

	<span style='font-weight:bold;color:#7B0052;'>public</span> <span style='font-weight:bold;color:#7B0052;'>void</span> enterPassword(String text)<span style='font-weight:bold;color:#D3171B'>{</span>
		enterText(password,text);
	<span style='font-weight:bold;color:#D3171B'>}</span>

	<span style='font-weight:bold;color:#7B0052;'>public</span> <span style='font-weight:bold;color:#7B0052;'>void</span> clickLogin()<span style='font-weight:bold;color:#D3171B'>{</span>
		click(loginbutton);
	<span style='font-weight:bold;color:#D3171B'>}</span>

<span style='font-weight:bold;color:#D3171B'>}</span></pre>


<pre class="codeblock2"><span style='font-weight:bold;color:#7B0052;'>public</span> <span style='font-weight:bold;color:#7B0052;'>class</span> HomePage <span style='font-weight:bold;color:#7B0052;'>extends</span> BasePage<span style='font-weight:bold;color:#D3171B'>{</span>

	<span style='font-weight:bold;color:#7B0052;'>public</span> HomePage(WebDriver driver, WebDriverWait wait) <span style='font-weight:bold;color:#D3171B'>{</span>
		<span style='font-weight:bold;color:#7B0052;'>super</span>(driver,wait);
	<span style='font-weight:bold;color:#D3171B'>}</span>

	
	<span style='color:#3F7F5F'>//Page Elements
</span>	<span style='font-weight:bold;color:#7B0052;'>private</span> By searchBox= By.id(<span style='color:#2A00FF'>"search_query_top"</span>);
	<span style='font-weight:bold;color:#7B0052;'>private</span> By searchIcon= By.name(<span style='color:#2A00FF'>"submit_search"</span>);


	<span style='color:#3F7F5F'>//Page Actions
</span>	<span style='font-weight:bold;color:#7B0052;'>public</span> <span style='font-weight:bold;color:#7B0052;'>void</span> enterSearchItem(String text)<span style='font-weight:bold;color:#D3171B'>{</span>
		enterText(searchBox,text);
	<span style='font-weight:bold;color:#D3171B'>}</span>

	<span style='font-weight:bold;color:#7B0052;'>public</span> <span style='font-weight:bold;color:#7B0052;'>void</span> clickSearchIcon()<span style='font-weight:bold;color:#D3171B'>{</span>
		click(searchIcon);
	<span style='font-weight:bold;color:#D3171B'>}</span>
	
<span style='font-weight:bold;color:#D3171B'>}</span></pre>


<pre class="codeblock2">public</span> <span style='font-weight:bold;color:#7B0052;'>class</span> SearchPage <span style='font-weight:bold;color:#7B0052;'>extends</span> BasePage<span style='font-weight:bold;color:#D3171B'>{</span>


	<span style='font-weight:bold;color:#7B0052;'>public</span> SearchPage(WebDriver driver, WebDriverWait wait) <span style='font-weight:bold;color:#D3171B'>{</span>
		<span style='font-weight:bold;color:#7B0052;'>super</span>(driver,wait);
	<span style='font-weight:bold;color:#D3171B'>}</span>

	<span style='color:#3F7F5F'>//Page Elements
</span>	<span style='font-weight:bold;color:#7B0052;'>private</span> By pageHeading=By.xpath(<span style='color:#2A00FF'>"//span[@class='navigation_page' and text()='Search']"</span>);

	<span style='font-weight:bold;color:#7B0052;'>public</span> <span style='font-weight:bold;color:#7B0052;'>void</span> searchPageDisplayed()<span style='font-weight:bold;color:#D3171B'>{</span>

		<span style='font-weight:bold;color:#7B0052;'>if</span>(isDisplayed(pageHeading)) <span style='font-weight:bold;color:#D3171B'>{</span>
			System.out.println(<span style='color:#2A00FF'>"Search Page is successfully displayed"</span>);
		<span style='font-weight:bold;color:#D3171B'>}</span>
	<span style='font-weight:bold;color:#D3171B'>}</span>

<span style='font-weight:bold;color:#D3171B'>}</span></pre>


<pre class="codeblock2"><span style='font-weight:bold;color:#7B0052;'>public</span> <span style='font-weight:bold;color:#7B0052;'>class</span> FirstTest <span style='font-weight:bold;color:#7B0052;'>extends</span> TestSetup<span style='font-weight:bold;color:#D3171B'>{</span>

	@Test
	<span style='font-weight:bold;color:#7B0052;'>public</span> <span style='font-weight:bold;color:#7B0052;'>void</span> executeTest()
	<span style='font-weight:bold;color:#D3171B'>{</span>
		pagemanager.getLoginPage().enterUserName(<span style='color:#2A00FF'>"abc@gmail.com"</span>);
		pagemanager.getLoginPage().enterPassword(<span style='color:#2A00FF'>"automation"</span>);
		pagemanager.getLoginPage().clickLogin();
		
		pagemanager.getHomePage().enterSearchItem(<span style='color:#2A00FF'>"dress"</span>);
		pagemanager.getHomePage().clickSearchIcon();
		
		pagemanager.getSearchPage().searchPageDisplayed();
		
	<span style='font-weight:bold;color:#D3171B'>}</span>
<span style='font-weight:bold;color:#D3171B'>}</span></pre>

<br><button  class="btn btn-primary" onclick="openTopic(event, 'fluidPat')"><- Prev</button>  
<button  class="btn btn-success" onclick="openTopic(event, 'POMframework')">Next -></button>  
<br><br>

</div>

<!------------------------------------------------------------------ End of POM without page factory ---------------------------------------------------------------->

<div id="POMframework" class="topics">
<br><br><h2>Page Object Model Framework</h2><hr>
Using all the concepts we have discussed here, let's build a simple framework using the page object model design pattern. This framework is designed for website <a href="http://automationpractice.com/index.php" target="_blank">automationpractice.com</a>
and has a test script for one flow from end to end. The source code is hosted in GitHub. 

<br><br><a href="https://github.com/biswajitsundara/page-object-model" target="_blank">https://github.com/biswajitsundara/page-object-model</a>

<br><br><button  class="btn btn-primary" onclick="openTopic(event, 'woutFactory')"><- Prev</button>  
<button  class="btn btn-success" onclick="openTopic(event, 'home')">Home -></button>  
<br><br>

</div>


<!------------------------------------------------------------------ End of POM Framework ---------------------------------------------------------------->

</div><!-- End of container -->


<script>
function openTopic(evt, topicName) {
  var i, x;
  x = document.getElementsByClassName("topics");
  for (i = 0; i < x.length; i++) {
     x[i].style.display = "none";
     
  }
 
  document.getElementById(topicName).style.display = "block";
  window.scrollTo(0, 0);

  x=document.getElementsByName("menu");
  for (i = 0; i < x.length; i++) {
     x[i].setAttribute("class", "none");
  }

  var menuId = topicName.concat("Menu");
  document.getElementById(menuId).setAttribute("class", "active");
}


function LoadFunc()
{
 x = document.getElementsByClassName("topics");
  for (i = 0; i < x.length; i++) {
     x[i].style.display = "none";
  }

document.getElementById('home').style.display = "block";

}
</script>

</body>
</html>
