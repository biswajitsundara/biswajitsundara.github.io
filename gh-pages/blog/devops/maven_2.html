
<!DOCTYPE html>
<html lang="en">

<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="">
  <meta name="author" content="">

  <title>Biswajit Sundara Blog | Selenium Grid</title>

 <script src="js/jquery.min.js"></script>
  <script src="js/bootstrap.min.js"></script>

  <!-- Bootstrap core CSS -->
  <link href="css/bootstrap.min.css" rel="stylesheet">

  <!-- Custom styles for this template -->
  <link href="css/blog-post.css" rel="stylesheet">

  <link href="../css/blogpage.css" rel="stylesheet">

<style>
table, td, th {  
  border: 1px solid #ddd;
  text-align: left;
}

table {
  border-collapse: collapse;
  width: 100%;
}

th, td {
  padding: 15px;
}
</style>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-158659468-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-158659468-1');
</script>

</head>

<body onload="LoadFunc()">

  <!-- Navigation -->
  <nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top">
    <div class="container">
      <a class="navbar-brand" href="../bloghome.html">Biswajit Sundara Blog</a>
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarResponsive">
        <ul class="navbar-nav ml-auto">
          <li class="nav-item active">
            <a class="nav-link" href="../bloghome.html">Home
              <span class="sr-only">(current)</span>
            </a>
          </li>
          <li class="nav-item active">
            <a class="nav-link" href="../../../index.html">About</a>
          </li>
        </ul>
      </div>
    </div>
  </nav>

  <!-- Page Content -->
  <div class="container">

    <div class="row">


   <!-- Sidebar Widgets Column -->
      <div class="col-md-4">

      <div class="card my-4">
                 <h5 class="card-header">Author Profile</h5>
              <div class="card-body">
                  <center><img class="d-flex mr-3 rounded-circle" src="../img/brand/me.png" alt="" style="width:40%"></center>
                  This book is written by Biswajit Sundara. Biswajit is a software professional with 10+ years of experience. He has worked on various technologies and also an avid blogger on technology.
             </div>
         </div><!-- End of Author Profile -->


        <!-- Table of contents -->
      <div class="card my-4">
          <h5 class="card-header">Topics</h5>
         <div class="card-body">
           	<ul class="list-group list-group-flush">
    	  	<li class="list-group-item"><a href="#" onclick="openTopic(event, 'basics')">Maven Basics</a></li>
    	  	<li class="list-group-item"><a href="#" onclick="openTopic(event, 'install')">Maven Installation</a></li>
                <li class="list-group-item"><a href="#" onclick="openTopic(event, 'pom')">Pom.xml</a></li>
    	  	<li class="list-group-item"><a href="#" onclick="openTopic(event, 'lifeCycle')">Build Life Cycle</a></li>
    	 	<li class="list-group-item"><a href="#" onclick="openTopic(event, 'execution')">Execution Using Selenium Grid</a></li>
                <li class="list-group-item"><a href="#" onclick="openTopic(event, 'summary')">Summary</a></li>
         	</ul>
        </div>
     </div><!-- End of Table of contents -->
              
         

   
  </div><!-- End of Sidebar Widgets Column -->



      <!-- Post Content Column -->
      <div class="col-lg-8">

        <!-- Title -->
        <h1 class="mt-4">Maven</h1>

        <!-- Author -->
        <p class="lead">
          by
          <a href="#">Biswajit Sundara</a>
        </p>

        <hr>

        <!-- Date/Time -->
        <p>Posted on May 17, 2020 at 04:00 PM</p>

        <hr>

       
        						<!-- Post Content -->

<!-------------------------------------------------------- Start of basics --------------------------------------------->
        
<div id="basics" class="topics" style="line-height: 180%;">
       <h4>What is Maven?</h4>
       Maven is a project management tool that uses POM (project object model) architecture. We can also say, Maven is a build tool that helps building, managing java based projects. 
       Maven also helps to publish the projects as jar, war, metadata etc. 
        
       <br><br><h4> What is build/build tool?</h4>  
       In QA world we hear it often when is the QA build, Production build etc. So what does build mean? Let's take an example of a web application. We develop the source code
       run it in our local and it works fine. Now the application code should work in the server, and there we might not have all the dependent softwares, configurations etc what we have in our system
       so basically the build tool will download all the required dependencies, compile the source code into binary code, test the code and then package the binary code. During build deployment
       the package will be moved to the particular server and now the application is ready to be run independently.

	<br><br><h4>Advantages of Maven</h4> 
        <ul><li><font color="blue">Project Structure:</font> Maven has clear project structure, it helps to organize the codes nicely. The src/main/java holds the application code and the src/test/java holds the unit test cases in case of Web Application project.
                For Automation project, many folks leave the src/main/java and writes everything under src/test/java. However I recommend keep the Framework related codes under src/main/java and then your application related codes like page classes, test modules, test cases under src/test/java
                So that in future if you share the project to another team, they just need to work on things those are under src/test/java 
        </li><li><font color="blue">Dependency Management:</font> When we write codes, often we make references to external libraries, in order to use the functionalities we need to download the jar files and then provide the jar file link in the build path of the project.
        Manually adding the jar file is a tedious process, if there's a new version of something we have been using then we will have to manually delete the old jar file, download and attach the new jar file. Also when we share the project to another person, then he/she
        needs to download the files again and then set the build path. Maven handles this beautifully. In the pom.xml we just need to mention the dependency names, As soon as we save, all the dependecies are downloaded and attached to the project.  
        </li></ul>

        <br><h4>Popular Build Tools</h4> 
	<ul><li>Maven -- supports Java and used for dependency management and automated software build
        </li><li>Graddle -- supports Java, Groovy, Scala language. It introduces a Groovy-based domain-specific language instead of the XML form.
        </li><li>MSBuild -- supports C#. Developped by Microsoft
	</li><li>ANT -- supports Java language, uses XML file format, Old build tool, now rarely used.
        </li></ul>

       <br><h4>Maven Central Repository</h4> 
       From this remote repository, maven downloads all the required Jar files and saves in the local .m2 folder. Refer:  
       <a href="https://repo.maven.apache.org/maven2/">https://repo.maven.apache.org/maven2/</a>

       	

       <br><br> 
       <button  class="btn btn-success" onclick="openTopic(event, 'remoteWD')">Next -></button>  
       <br><br>    

</div>
<!-------------------------------------------------------- End of basics --------------------------------------------->
        
<!-------------------------------------------------------- Start of remote webdriver --------------------------------------------->

<div id="install" class="topics" style="line-height: 180%;">
       
     <h4>Maven Installation</h4>
     First check if Maven is already installed. Type the below command in windows command prompt and see what does it return? if Maven is already installed then it will show the details else give the error message 'command is not recognized' 
     <br><br><pre class="codeblock2">mvn -version</pre>
   
     <br><h4>Download Maven</h4>
     <ul><li>Go to url <a href="https://maven.apache.org/download.cgi">https://maven.apache.org/download.cgi</a>
     </li><li>Under <b>Files</b> check the row <font color="blue">Binary zip archive</font>
     </li><li>Click on the hyperlink - apache-maven-3.6.3-bin.zip
     </li></ul>
    

<br><h4>Setup Maven</h4>
<ul><li>Extract the zip file downloaded above
     </li><li>copy the path upto bin folder e.g <font face="courier">C:\apache-maven-3.6.3\bin</font>
     </li><li>Now go to environment variable, edit the system variable <font face="courier">Path</font>
     </li><li>Append the copied folder path into the path variable text.
     </li><li>Open command prompt and execute the command <font face="courier">mvn -version</font>
     </li><li>Now it should return details about maven version     
     </li></ul>

<br><h4>Setup Maven in Eclipse</h4>
<ul><li>To make use of the maven software we also need to setup maven in the IDE that we use
     </li><li>Eclipse has Maven in built now a days. So we don't have to configure anything additional
     </li><li>To ensure maven is installed, go to Window -> Preference -> Maven should be at the left column 
     </li><li>Go to File -> New -> Other -> Maven -> Maven Project (should be able to create the project) 
     </li><li>Right click on the created maven project -> Run as -> should see the options m2 maven build, maven install, maven test etc   
     </li></ul>

<br><h4>Create maven project using command line</h4>
Just run the below command in windows command prompt, it will create the maven project.
<pre class="codeblock2">
mvn -B archetype:generate 
    -DarchetypeGroupId=org.apache.maven.archetypes 
    -DgroupId=com.mycompany.app 
    -DartifactId=my-app
</pre>
       <br><br>
       <button  class="btn btn-primary" onclick="openTopic(event, 'basics')"><- Prev</button>  
       <button  class="btn btn-success" onclick="openTopic(event, 'testcases')">Next -></button>  
       <br><br>    

</div>

<!-------------------------------------------------------- End of Remote WebDriver --------------------------------------------->
        
<!-------------------------------------------------------- Start of test cases--------------------------------------------->
<div id="pom" class="topics" style="line-height: 180%;">
      
<h4>POM.xml File</h4>
 
<p>Pom.xml is the back bone of the maven project. It contains all the informations related to the project. Please note there can be only one pom.xml file
in maven project.</p>

<table style="width:100%;"><tr>
<td style="width:25%;padding:5px">Project</td>
<td style="padding:5px">This is the root node in the pom.xml file. It specifies from where the maven project schema is downloaded.</td>
</tr>

<tr><td style="width:25%;padding:5px">ModelVersion</td>
<td style="padding:5px">The maven POM version name</td>
</tr>

<tr><td style="width:25%;padding:5px">GroupID</td>
<td style="padding:5px">This is used to uniquely identify organization projects. The combination of domain of your company, your company name, and the type of project should be used as group Id. So if you host your project in the maven central repository then
It will navigate through the hierarchy and download the published files. Let's say mine is a commercial company and the name is bisApps and the type of project is 'framework'
then the group id will become com.bisApps.framework</td>
</tr>

<tr><td style="width:25%;padding:5px">ArtifactId</td>
<td style="padding:5px">Artifact Id is the project name. Group Id & artifact Id together forms an unique key that separates it from all other projects. Continuing our example let's say my framework project name is 'selenium-automation'</td>
</tr>

<tr><td style="width:25%;padding:5px">Packaging</td>
<td style="padding:5px">Packaging indicates how would we like to publish the project. For web projects WAR and for Java projects JAR packaging is used</td>
</tr>


<tr><td style="width:25%;padding:5px">Version</td>
<td style="padding:5px">This element indicates the version of the artifact generated by the project. It helps in version controlling of the project</td>
</tr>

<tr><td style="width:25%;padding:5px">Name</td>
<td style="padding:5px">The display name of the project. When we create a maven project in eclipse, this is auto populated and same as Artifact Id</td>
</tr>

<tr><td style="width:25%;padding:5px">Url</td>
<td style="padding:5px">Where the project can be found</td>
</tr>

</table>
     

       <br><br>
       <button  class="btn btn-primary" onclick="openTopic(event, 'remoteWD')"><- Prev</button>  
       <button  class="btn btn-success" onclick="openTopic(event, 'config')">Next -></button>  
       <br><br>    



</div>


<!-------------------------------------------------------- End of test cases--------------------------------------------->

<!-------------------------------------------------------- Start of  configuration --------------------------------------------->

<div id="lifeCycle" class="topics" style="line-height: 180%;">
       
     <h4>Build Life Cycles</h4>
     By now we know that Maven is a build tool so the next question
     <ul><li>Identify any physical/virtual machine to configure as hub.
     </li><li>Download the selenium server jar file from - <a href="https://www.selenium.dev/downloads/" target="_blank">https://www.selenium.dev/downloads/</a>
     </li><li>Create a batch file and give the name as HUB.bat (type the command in note pad and save with .bat extension)
     </li><li>In the HUB.bat file put the below code
      <pre class="codeblock2">java -jar selenium-server-standalone-3.12.0.jar -port 4444 -role hub</pre>
     </li><li>The selenium server jar file name may change based on which version you download.
     </li><li>Keep both the jar file & the bat file in the same folder.
     </li><li>Double click on the HUB.bat file.
     </li></ul>
     <img src="img/grid/hub.png">
     <br>Indicates the HUB is now started.
     <pre class="codeblock2">INFO [Hub.start] - Selenium Grid hub is up and running</pre>
     
      Indicates that now nodes can register to the HUB using the mentioned IP address/HUB url   
     <pre class="codeblock2">INFO [Hub.start] - Nodes should register to http://1xx.1xx.1.xx:4444/grid/register/</pre>
     
     Indicates that the clients, means the automation script can send request to the HUB using the mentioned IP address/HUB url
     <pre class="codeblock2">INFO [Hub.start] - Clients should connect to http://1xx.1xx.1.xx:4444/wd/hub</pre>
     
 
     <br><h4>Node 1 Configuration</h4>
     <ul><li>Identify any physical/virtual machine to configure as Node.
     </li><li>Download the selenium server jar file from - <a href="https://www.selenium.dev/downloads/" target="_blank">https://www.selenium.dev/downloads/</a>
     </li><li>Create a batch file and give the name as node1.bat (type the command in note pad and save with .bat extension)
     </li><li>In the Node1.bat file put the below code
     </li><pre class="codeblock2">java -Dwebdriver.chrome.driver="chromedriver.exe" 
      -jar selenium-server-standalone-3.141.59.jar -role node 
      -hub http://10.0.0.0:4444/grid/register -port 5555 
      -browser browserName=chrome,maxInstances=5,platform=WINDOWS -maxSession 5</pre>
     <li>The selenium server jar file name may change based on which version you download.
     </li><li>The hub url http://10.0.0.0:4444/grid/register/ needs to be changed also. We need to use the url from the hub console.
     </li><li>We can register a node with multiple browsers (like chrome, firefox etc) however for demo purpose, I have created only for chrome browser.
     </li><li>Download the chrome driver (other browser drivers if used in the command)
     </li><li>Keep everything in the same folder - node1.bat, the selenium-server jar file, browser drivers
     </li><li>double click on the Node1.bat file.
     </li></ul>
     <img src="img/grid/node.png">
     Indicates that the node is registered to the hub and it can be used. 
     <pre class="codeblock2">INFO [SelfRegisteringRemote.registerToHub] 
          - The node is registered to the hub and ready to use</pre>


    <br><h4>Node 2 Configuration</h4>
    <ul><li>We need to have multiple nodes to take the full advantage of the grid system.
    </li><li>Follow the same steps mentioned above for configuring the nodes in other machines.
    </li><li>For the demo purpose we have created the above node for chrome browser.
    </li><li>Similarly create a node for firefox in another machine using the below command.
    </li></li>Save the command in file Node2.bat
     </li></ul>
    <pre class="codeblock2">java -Dwebdriver.gecko.driver="geckodriver.exe" 
    -jar selenium-server-standalone-3.141.59.jar -role node 
    -hub http://10.0.0.0:4444/grid/register -port 5557 
    -browser "browserName=firefox, maxInstances=5, platform=ANY, 
     seleniumProtocol=WebDriver"</pre>

    <br><h4>Node 3 Configuration</h4>
    <ul><li>We need to have multiple nodes to take the full advantage of the grid system.
    </li><li>Follow the same steps mentioned above for configuring the nodes in other machines.
    </li><li>For the demo purpose we have created the above nodes for chrome browser, firefox browser. 
    </li><li>Similarly create a node for microsoft edge in another machine using the below command.
    </li><li>Save the command in file Node3.bat
    </li></ul>
    <pre class="codeblock2">java -Dwebdriver.ie.driver="IEDriverServer.exe" 
    -jar selenium-server-standalone-3.141.59.jar -role node 
    -hub http://10.0.0.0:4444/grid/register -port 5558 
    -browser "browserName=internet explorer,version=10,platform=WINDOWS,maxInstances=5"</pre>
    
    <br><h4>Folder Structure</h4>
    <img src="img/grid/folder-structure.png">
    <br><br>Move the HUB folder to the HUB machine and the Node folders to node machines.
    Now the configuration is complete. Then we will go for parallel test execution through selenium grid.


       <br><br>
       <button  class="btn btn-primary" onclick="openTopic(event, 'testcases')"><- Prev</button>  
       <button  class="btn btn-success" onclick="openTopic(event, 'execution')">Next -></button>  
       <br><br>  

</div>


<!-------------------------------------------------------- End of configuration --------------------------------------------->

<!-------------------------------------------------------- Start of grid execution --------------------------------------------->

<div id="execution" class="topics" style="line-height: 180%;">

<br><h4>Pre Requisites</h4>
<ul><li>In the design section, we have 3 scripts for each browser.
</li>The HUB folder is in the hub machine, The Node 1,2,3 folders are moved to the node machines.
</li><li>The HUB, Nodes should be in the same network (for testing we can have all three persons connected to same wifi)
</li><li>Windows firewall should be turned off. Window+R -> Control panel -> Windows and security -> Switch off firewall.
</ul>


<br><h4>Start Hub</h4>
<ul><li>Go to the Hub folder and run 'Hub.bat'
</li><li>In the command prompt, it will say the the server is started.
</li><li>Note down the ip address of the hub system
</li><li>Open the grid console using the ip address, replace the 10.10..with the ip address of the hub machine.
<br><a href="http://10.10.10.49:4444/grid/console" target="_blank">http://10.10.10.49:4444/grid/console</a>
<br><a href="http://localhost:4444/grid/console" target="_blank">http://localhost:4444/grid/console</a>
</li><li>In the grid console you will not see anything
</li></ul>


<br><h4>Start Node 1</h4>
<ul><li>Go to the first machine and open Node 1 folder
</li><li>Open the Node 1.bat file in edit mode
</li><li>Change the ip address received from the server
</li><li>Save the bat file and double click.
</li><li>In the command prompt it will display the node is registered and ready to use.
</li><li>At the HUB also in the command prompt it will display that a node is registered.
</li><li>Now check the grid console, it will display this node machine's address.
<a href="http://10.10.10.49:4444/grid/console" target="_blank">http://10.10.10.49:4444/grid/console</a>
</li></ul>



<br><h4>Start Node 2</h4>
<ul><li>Go to the second machine and open Node 2 folder
</li><li>Open the Node 2.bat file in edit mode
</li><li>Change the ip address received from the server
</li><li>Save the bat file and double click.
</li><li>In the command prompt it will display the node is registered and ready to use.
</li><li>At the HUB also in the command prompt it will display that a node is registered.
</li><li>Now check the grid console, it will display this node machine's address.
<a href="http://10.10.10.49:4444/grid/console" target="_blank">http://10.10.10.49:4444/grid/console</a>
</li></ul>


<br><h4>Start Node 3</h4>
<ul><li>Go to the third machine and open Node 3 folder
</li><li>Open the Node 3.bat file in edit mode
</li><li>Change the ip address received from the server
</li><li>Save the bat file and double click.
</li><li>In the command prompt it will display the node is registered and ready to use.
</li><li>At the HUB also in the command prompt it will display that a node is registered.
</li><li>Now check the grid console, it will display this node machine's address.
<a href="http://10.10.10.49:4444/grid/console" target="_blank">http://10.10.10.49:4444/grid/console</a>
</li></ul>


<br><h4>The client(My machine)</h4>
<ul><li>Import the three scripts we have designed
</li><li>Change the IP address of the HUB machine in all three scripts
</li><li>Run the testng.xml file.
</li><li>It will start running the scripts in the node machines - Node 1, Node 2, Node 3
</li><li>If we check the grid console, it will show the few browser icons disabled, that indicates the browser instance is running.
</li><li>The results will be stored in the client machine, from where the scripts are getting executed.
</li></ul>


<br><h4>The Grid Console</h4>
The Grid console is a url <a href="http://10.10.10.49:4444/grid/console" target="_blank">http://10.10.10.49:4444/grid/console</a> that helps in monitoring the grid execution.
The console shows
<ul><li>The connected machine's IP address
</li><li>Browser and its maximum instances
</li><li>Execution status
</li></ul>

       <br><br>
       <button  class="btn btn-primary" onclick="openTopic(event, 'config')"><- Prev</button>  
       <button  class="btn btn-success" onclick="openTopic(event, 'summary')">Next -></button>  
       <br><br>  

</div>

<!-------------------------------------------------------- End of execution --------------------------------------------->

<!-------------------------------------------------------- Start of summary --------------------------------------------->

<div id="summary" class="topics" style="line-height: 180%;">

<br><h4>When do we need Parallel Execution?</h4>
<ul><li>To test in multiple browser versions
</li><li>Need to execute huge number of test cases
</li><li>Need to test in multiple OS platforms
</li></ul>

<br><h4>How to do Parallel Execution?</h4>
<ul><li>Using Selenium Grid
</li><li>Or using Cloud Based apps (Sauce labs, BrowserStack,KeyNote)
</li></ul>


<br><h4>Sauce labs, BrowserStack?</h4>
</li><li>Sauce labs, BrowserStacks are paid tools
</li><li> They have all possible combinations of platforms & versions.
</li><li>Lot of organizations use these tools for parallel execution of their test cases.
</li></ul> 


<br><h4>Key Notes</h4>
<ul><li>By default the grid will run on port 4444
</li><li>Selenium Grid consists of Hub & Node. Many people think that the selenium scripts are executed on node. That's wrong.
The scripts are executed on client machines -> It goes to Hub -> Then the automated browser runs on node and sends back results.
</li><li>The selenium script has desired capabilities & the node has actual capabilities.
</li><li>When selenium HUB finds a match between the desired capability & actual capability, it sends the request to the node. If it doesn't find a match then
it waits until the request time out is met.
</li></ul> 
 
       <br><br>
       <button  class="btn btn-primary" onclick="openTopic(event, 'execution')"><- Prev</button>  
       <button  class="btn btn-success" onclick="openTopic(event, 'basics')">Home -></button>  
       <br><br>  

</div>
<!-------------------------------------------------------- End of summary --------------------------------------------->


<!-- Comments Form -->
        <div class="card my-4">
          <h5 class="card-header">Leave a Comment:</h5>
          <div class="card-body">
            <form action="https://docs.google.com/forms/u/0/d/e/1FAIpQLSfVCUKnD_-vfrm9XatsW_mq3sSron9_J_Fsd0BSt-MNaWv4ww/formResponse" target="_self" method="POST">
               <div class="form-group">
                <input type="text" id="uname" name="entry.689225320" placeholder="Your name.." class="form-control" >
                <br><input type="text" id="email" name="emailAddress" placeholder="Your email.." class="form-control">
                <br><textarea id="comment" name="entry.1648468188" class="form-control" rows="3"></textarea>
                <br><input type="hidden" name="entry.2069828936" value="selenium-grid" class="form-control">
              </div>
              <button type="submit" class="btn btn-primary">Submit</button>
            </form>
          </div>
        </div>

        
        <!-- Comment with nested comments -->
        <div class="media mb-4" style="visibility:hidden">
          <img class="d-flex mr-3 rounded-circle" src="../img/comment/boy1.png" alt="" style="width:10%">
          <div class="media-body">
            <h5 class="mt-0">@Pravin Kumar</h5>
            <p class="text-muted">17 May 18:04:02</p> Really helpful, thanks for sharing.

            <div class="media mt-4">
              <img class="d-flex mr-3 rounded-circle" src="../img/brand/me.png" alt="" style="width:10%">
              <div class="media-body">
                <h5 class="mt-0">@Biswajit Sundara</h5>
                Thank you Pravin
              </div>
            </div>


          </div>
        </div>

      </div>

    
     


    </div>
    <!-- /.row -->

  </div>
  <!-- /.container -->

  <!-- Footer -->
  <footer class="py-5 bg-dark">
    <div class="container">
      <p class="m-0 text-center text-white">Copyright &copy; biswajitsundara.github.io 2020</p>
    </div>
    <!-- /.container -->
  </footer>

  
<script>
function openTopic(evt, topicName) {
  var i, x;
  x = document.getElementsByClassName("topics");
  for (i = 0; i < x.length; i++) {
     x[i].style.display = "none";
  }
 
  document.getElementById(topicName).style.display = "block";

    window.scrollTo(0, 0);
  
}

function LoadFunc()
{
 x = document.getElementsByClassName("topics");
  for (i = 0; i < x.length; i++) {
     x[i].style.display = "none";
  }

document.getElementById('basics').style.display = "block";
}
</script>

</body>

</html>
